(function(){const Ft=document.createElement("link").relList;if(Ft&&Ft.supports&&Ft.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))g(E);new MutationObserver(E=>{for(const rt of E)if(rt.type==="childList")for(const it of rt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&g(it)}).observe(document,{childList:!0,subtree:!0});function C(E){const rt={};return E.integrity&&(rt.integrity=E.integrity),E.referrerPolicy&&(rt.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?rt.credentials="include":E.crossOrigin==="anonymous"?rt.credentials="omit":rt.credentials="same-origin",rt}function g(E){if(E.ep)return;E.ep=!0;const rt=C(E);fetch(E.href,rt)}})();const jh={run(){return(function(Ft){function C(i,n,s){return s.a=i,s.f=n,s}function g(i){return C(2,i,(function(n){return function(s){return i(n,s)}}))}function E(i){return C(3,i,(function(n){return function(s){return function(u){return i(n,s,u)}}}))}function rt(i){return C(4,i,(function(n){return function(s){return function(u){return function(h){return i(n,s,u,h)}}}}))}function it(i){return C(5,i,(function(n){return function(s){return function(u){return function(h){return function(l){return i(n,s,u,h,l)}}}}}))}function a(i,n,s){return i.a===2?i.f(n,s):i(n)(s)}function T(i,n,s,u){return i.a===3?i.f(n,s,u):i(n)(s)(u)}function Ht(i,n,s,u,h){return i.a===4?i.f(n,s,u,h):i(n)(s)(u)(h)}function D(i,n,s,u,h,l){return i.a===5?i.f(n,s,u,h,l):i(n)(s)(u)(h)(l)}function ct(i,n,s,u,h,l,_){return i.a===6?i.f(n,s,u,h,l,_):i(n)(s)(u)(h)(l)(_)}function Tt(i,n){for(var s,u=[],h=Fi(i,n,0,u);h&&(s=u.pop());h=Fi(s.a,s.b,0,u));return h}function Fi(i,n,s,u){if(i===n)return!0;if(typeof i!="object"||i===null||n===null)return typeof i=="function"&&De(5),!1;if(s>100)return u.push(w(i,n)),!0;for(var h in 0>i.$&&(i=ii(i),n=ii(n)),i)if(!Fi(i[h],n[h],s+1,u))return!1;return!0}function At(i,n,s){if(typeof i!="object")return i===n?0:n>i?-1:1;if(i.$===void 0)return(s=At(i.a,n.a))||(s=At(i.b,n.b))?s:At(i.c,n.c);for(;i.b&&n.b&&!(s=At(i.a,n.a));i=i.b,n=n.b);return s||(i.b?1:n.b?-1:0)}var pt=g((function(i,n){var s=At(i,n);return 0>s?br:s?bo:ft}));function w(i,n){return{a:i,b:n}}function H(i,n){var s={};for(var u in i)s[u]=i[u];for(var u in n)s[u]=n[u];return s}function ge(i,n){if(typeof i=="string")return i+n;if(!i.b)return n;var s=ue(i.a,n);i=i.b;for(var u=s;i.b;i=i.b)u=u.b=ue(i.a,n);return s}var P={$:0};function ue(i,n){return{$:1,a:i,b:n}}var gn=g(ue);function d(i){for(var n=P,s=i.length;s--;)n=ue(i[s],n);return n}var Yr=E((function(i,n,s){for(var u=[];n.b&&s.b;n=n.b,s=s.b)u.push(a(i,n.a,s.a));return d(u)})),Xr=E((function(i,n,s){for(var u=Array(i),h=0;i>h;h++)u[h]=s(n+h);return u})),ar=g((function(i,n){for(var s=Array(i),u=0;i>u&&n.b;u++)s[u]=n.a,n=n.b;return s.length=u,w(s,n)}));function De(i){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+i+".md")}var qt=g((function(i,n){var s=n%i;return i===0?De(11):s>0&&0>i||0>s&&i>0?s+i:s})),ce=Math.ceil,ua=Math.floor,Re=Math.round,Jr=Math.log,ee=g((function(i,n){return i+n})),Hi=g((function(i,n){return n.split(i)})),Y=g((function(i,n){return n.join(i)})),Qr=E((function(i,n,s){return s.slice(i,n)})),q=g((function(i,n){for(var s=n.length;s--;){var u=n[s],h=n.charCodeAt(s);if(56320>h||h>57343||(u=n[--s]+u),!i(u))return!1}return!0})),yt=g((function(i,n){return n.indexOf(i)>-1})),Gt=g((function(i,n){return n.indexOf(i)===0})),Vt=g((function(i,n){var s=i.length;if(1>s)return P;for(var u=0,h=[];(u=n.indexOf(i,u))>-1;)h.push(u),u+=s;return d(h)}));function bt(i){return{$:2,b:i}}var st=bt((function(i){return typeof i=="boolean"?re(i):ye("a BOOL",i)})),nt=bt((function(i){return typeof i=="number"?re(i):ye("a FLOAT",i)})),Fe=bt((function(i){return re(i)})),Xe=bt((function(i){return typeof i=="string"?re(i):i instanceof String?re(i+""):ye("a STRING",i)})),to=g((function(i,n){return{$:6,d:i,b:n}})),sr=g((function(i,n){return{$:7,e:i,b:n}}));function Wi(i,n){return{$:9,f:i,g:n}}var ji=g((function(i,n){return{$:10,b:n,h:i}})),ur=g((function(i,n){return Wi(i,[n])})),ca=E((function(i,n,s){return Wi(i,[n,s])})),eo=it((function(i,n,s,u,h){return Wi(i,[n,s,u,h])})),io=g((function(i,n){try{return Yt(i,JSON.parse(n))}catch(s){return Wt(a(di,"This is not valid JSON! "+s.message,n))}})),Ki=g((function(i,n){return Yt(i,n)}));function Yt(i,n){switch(i.$){case 2:return i.b(n);case 5:return n===null?re(i.c):ye("null",n);case 3:return Ui(n)?no(i.b,n,d):ye("a LIST",n);case 4:return Ui(n)?no(i.b,n,cr):ye("an ARRAY",n);case 6:var s=i.d;if(typeof n!="object"||n===null||!(s in n))return ye("an OBJECT with a field named `"+s+"`",n);var u=Yt(i.b,n[s]);return le(u)?u:Wt(a(Zt,s,u.a));case 7:var h=i.e;return Ui(n)?h>=n.length?ye("a LONGER array. Need index "+h+" but only see "+n.length+" entries",n):(u=Yt(i.b,n[h]),le(u)?u:Wt(a(ni,h,u.a))):ye("an ARRAY",n);case 8:if(typeof n!="object"||n===null||Ui(n))return ye("an OBJECT",n);var l=P;for(var _ in n)if(Object.prototype.hasOwnProperty.call(n,_)){if(u=Yt(i.b,n[_]),!le(u))return Wt(a(Zt,_,u.a));l=ue(w(_,u.a),l)}return re(Ae(l));case 9:for(var p=i.f,x=i.g,k=0;x.length>k;k++){if(u=Yt(x[k],n),!le(u))return u;p=p(u.a)}return re(p);case 10:return u=Yt(i.b,n),le(u)?Yt(i.h(u.a),n):u;case 11:for(var S=P,z=i.g;z.b;z=z.b){if(u=Yt(z.a,n),le(u))return u;S=ue(u.a,S)}return Wt(wo(Ae(S)));case 1:return Wt(a(di,i.a,n));case 0:return re(i.a)}}function no(i,n,s){for(var u=n.length,h=Array(u),l=0;u>l;l++){var _=Yt(i,n[l]);if(!le(_))return Wt(a(ni,l,_.a));h[l]=_.a}return re(s(h))}function Ui(i){return Array.isArray(i)||typeof FileList<"u"&&i instanceof FileList}function cr(i){return a(Pa,i.length,(function(n){return i[n]}))}function ye(i,n){return Wt(a(di,"Expecting "+i,n))}function li(i,n){if(i===n)return!0;if(i.$!==n.$)return!1;switch(i.$){case 0:case 1:return i.a===n.a;case 2:return i.b===n.b;case 5:return i.c===n.c;case 3:case 4:case 8:return li(i.b,n.b);case 6:return i.d===n.d&&li(i.b,n.b);case 7:return i.e===n.e&&li(i.b,n.b);case 9:return i.f===n.f&&ro(i.g,n.g);case 10:return i.h===n.h&&li(i.b,n.b);case 11:return ro(i.g,n.g)}}function ro(i,n){var s=i.length;if(s!==n.length)return!1;for(var u=0;s>u;u++)if(!li(i[u],n[u]))return!1;return!0}var ha=g((function(i,n){return JSON.stringify(n,null,i)+""}));function Ci(i){return i}var oo=E((function(i,n,s){return i==="toJSON"&&typeof n=="function"||(s[i]=n),s}));function Me(i){return{$:0,a:i}}function ke(i){return{$:2,b:i,c:null}}var yn=g((function(i,n){return{$:3,b:i,d:n}})),ao=0;function bn(i){var n={$:0,e:ao++,f:i,g:null,h:[]};return lr(n),n}function hr(i){return ke((function(n){n(Me(bn(i)))}))}function wn(i,n){i.h.push(n),lr(i)}var so=g((function(i,n){return ke((function(s){wn(i,n),s(Me(0))}))})),fr=!1,Si=[];function lr(i){if(Si.push(i),!fr){for(fr=!0;i=Si.shift();)fa(i);fr=!1}}function fa(i){for(;i.f;){var n=i.f.$;if(n===0||n===1){for(;i.g&&i.g.$!==n;)i.g=i.g.i;if(!i.g)return;i.f=i.g.b(i.f.a),i.g=i.g.i}else{if(n===2)return void(i.f.c=i.f.b((function(s){i.f=s,lr(i)})));if(n===5){if(i.h.length===0)return;i.f=i.f.b(i.h.shift())}else i.g={$:n===3?0:1,b:i.f.b,i:i.g},i.f=i.f.d}}}var Bt={};function dr(i,n,s,u,h){return{b:i,c:n,d:s,e:u,f:h}}function uo(i,n){var s={g:n,h:void 0},u=i.c,h=i.d,l=i.e,_=i.f;return s.h=bn(a(yn,(function p(x){return a(yn,p,{$:5,b:function(k){var S=k.a;return k.$===0?T(h,s,S,x):l&&_?Ht(u,s,S.i,S.j,x):T(u,s,l?S.i:S.j,x)}})}),i.b))}var la=g((function(i,n){return ke((function(s){i.g(n),s(Me(0))}))})),da=g((function(i,n){return a(so,i.h,{$:0,a:n})}));function xn(i){return function(n){return{$:1,k:i,l:n}}}function Ln(i){return{$:2,m:i}}var _a=g((function(i,n){return{$:3,n:i,o:n}})),co=[],qi=!1;function _r(i,n,s){if(co.push({p:i,q:n,r:s}),!qi){qi=!0;for(var u;u=co.shift();)ma(u.p,u.q,u.r);qi=!1}}function ma(i,n,s){var u={};for(var h in Pn(!0,n,u,null),Pn(!1,s,u,null),i)wn(i[h],{$:"fx",a:u[h]||{i:P,j:P}})}function Pn(i,n,s,u){switch(n.$){case 1:var h=n.k,l=(function(p,x,k,S){return a(p?Bt[x].e:Bt[x].f,(function(z){for(var I=k;I;I=I.t)z=I.s(z);return z}),S)})(i,h,u,n.l);return void(s[h]=(function(p,x,k){return k=k||{i:P,j:P},p?k.i=ue(x,k.i):k.j=ue(x,k.j),k})(i,l,s[h]));case 2:for(var _=n.m;_.b;_=_.b)Pn(i,_.a,s,u);return;case 3:return void Pn(i,n.o,s,{s:n.n,t:u})}}function ho(i){Bt[i]&&De(3)}function Xt(i,n){return ho(i),Bt[i]={e:R,u:n,a:fo},xn(i)}var R=g((function(i,n){return n}));function fo(i){var n=[],s=Bt[i].u,u=ke((function(h){var l=setTimeout((function(){h(Me(0))}),0);return function(){clearTimeout(l)}}));return Bt[i].b=u,Bt[i].c=E((function(h,l){for(;l.b;l=l.b)for(var _=n,p=s(l.a),x=0;_.length>x;x++)_[x](p);return u})),{subscribe:function(h){n.push(h)},unsubscribe:function(h){var l=(n=n.slice()).indexOf(h);0>l||n.splice(l,1)}}}function Gi(i,n){return ho(i),Bt[i]={f:lo,u:n,a:mr},xn(i)}var Vi,lo=g((function(i,n){return function(s){return i(n(s))}}));function mr(i,n){var s=P,u=Bt[i].u,h=Me(null);return Bt[i].b=h,Bt[i].c=E((function(l,_){return s=_,h})),{send:function(l){var _=a(Ki,u,l);le(_)||De(4);for(var p=_.a,x=s;x.b;x=x.b)n(x.a(p))}}}var Ce=typeof document<"u"?document:{};function Je(i,n){i.appendChild(n)}function Tn(i){return{$:0,a:i}}var ht=g((function(i,n){return g((function(s,u){for(var h=[],l=0;u.b;u=u.b){var _=u.a;l+=_.b||0,h.push(_)}return l+=h.length,{$:1,c:n,d:go(s),e:h,f:i,b:l}}))}))(void 0);g((function(i,n){return g((function(s,u){for(var h=[],l=0;u.b;u=u.b){var _=u.a;l+=_.b.b||0,h.push(_)}return l+=h.length,{$:2,c:n,d:go(s),e:h,f:i,b:l}}))}))(void 0);var _o,pa=g((function(i,n){return{$:4,j:i,k:n,b:1+(n.b||0)}})),va=g((function(i,n){return{$:"a0",n:i,o:n}})),mo=g((function(i,n){return{$:"a1",n:i,o:n}})),po=g((function(i,n){return{$:"a2",n:i,o:n}})),Yi=g((function(i,n){return{$:"a3",n:i,o:n}})),ga=/^(on|formAction$)/i,ya=/^\s*j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:/i,ba=/^\s*(j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:|d\s*a\s*t\s*a\s*:\s*t\s*e\s*x\s*t\s*\/\s*h\s*t\s*m\s*l\s*(,|;))/i;function vo(i){return ba.test(i)?"":i}function go(i){for(var n={};i.b;i=i.b){var s=i.a,u=s.$,h=s.n,l=s.o;if(u!=="a2"){var _=n[u]||(n[u]={});u==="a3"&&h==="class"?Mn(_,h,l):_[h]=l}else h==="className"?Mn(n,h,l):n[h]=l}return n}function Mn(i,n,s){var u=i[n];i[n]=u?u+" "+s:s}function be(i,n){var s=i.$;if(s===5)return be(i.k||(i.k=i.m()),n);if(s===0)return Ce.createTextNode(i.a);if(s===4){for(var u=i.k,h=i.j;u.$===4;)typeof h!="object"?h=[h,u.j]:h.push(u.j),u=u.k;var l={j:h,p:n};return(_=be(u,l)).elm_event_node_ref=l,_}if(s===3)return kn(_=i.h(i.g),n,i.d),_;var _=i.f?Ce.createElementNS(i.f,i.c):Ce.createElement(i.c);Vi&&i.c=="a"&&_.addEventListener("click",Vi(_)),kn(_,n,i.d);for(var p=i.e,x=0;p.length>x;x++)Je(_,be(s===1?p[x]:p[x].b,n));return _}function kn(i,n,s){for(var u in s){var h=s[u];u==="a1"?yo(i,h):u==="a0"?wt(i,n,h):u==="a3"?Xi(i,h):u==="a4"?ot(i,h):(u!=="value"&&u!=="checked"||i[u]!==h)&&(i[u]=h)}}function yo(i,n){var s=i.style;for(var u in n)s[u]=n[u]}function Xi(i,n){for(var s in n){var u=n[s];u!==void 0?i.setAttribute(s,u):i.removeAttribute(s)}}function ot(i,n){for(var s in n){var u=n[s],h=u.f,l=u.o;l!==void 0?i.setAttributeNS(h,s,l):i.removeAttributeNS(h,s)}}function wt(i,n,s){var u=i.elmFs||(i.elmFs={});for(var h in s){var l=s[h],_=u[h];if(l){if(_){if(_.q.$===l.$){_.q=l;continue}i.removeEventListener(h,_)}_=Cn(n,l),i.addEventListener(h,_,_o&&{passive:2>Er(l)}),u[h]=_}else i.removeEventListener(h,_),u[h]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){_o=!0}}))}catch{}function Cn(i,n){function s(u){var h=s.q,l=Yt(h.a,u);if(le(l)){for(var _,p=Er(h),x=l.a,k=p?3>p?x.a:x.S:x,S=p==1?x.b:p==3&&x.a4,z=(S&&u.stopPropagation(),(p==2?x.b:p==3&&x.a0)&&u.preventDefault(),i);_=z.j;){if(typeof _=="function")k=_(k);else for(var I=_.length;I--;)k=_[I](k);z=z.p}z(k,S)}}return s.q=n,s}function Ei(i,n){return i.$==n.$&&li(i.a,n.a)}function Et(i,n,s,u){var h={$:n,r:s,s:u,t:void 0,u:void 0};return i.push(h),h}function ie(i,n,s,u){if(i!==n){var h=i.$,l=n.$;if(h!==l){if(h!==1||l!==2)return void Et(s,0,u,n);n=(function(j){for(var dt=j.e,ut=dt.length,Dt=Array(ut),Rt=0;ut>Rt;Rt++)Dt[Rt]=dt[Rt].b;return{$:1,c:j.c,d:j.d,e:Dt,f:j.f,b:j.b}})(n),l=1}switch(l){case 5:for(var _=i.l,p=n.l,x=_.length,k=x===p.length;k&&x--;)k=_[x]===p[x];if(k)return void(n.k=i.k);n.k=n.m();var S=[];return ie(i.k,n.k,S,0),void(S.length>0&&Et(s,1,u,S));case 4:for(var z=i.j,I=n.j,$=!1,U=i.k;U.$===4;)$=!0,typeof z!="object"?z=[z,U.j]:z.push(U.j),U=U.k;for(var V=n.k;V.$===4;)$=!0,typeof I!="object"?I=[I,V.j]:I.push(V.j),V=V.k;return $&&z.length!==I.length?void Et(s,0,u,n):(($?(function(j,dt){for(var ut=0;j.length>ut;ut++)if(j[ut]!==dt[ut])return!1;return!0})(z,I):z===I)||Et(s,2,u,I),void ie(U,V,s,u+1));case 0:return void(i.a!==n.a&&Et(s,3,u,n.a));case 1:return void X(i,n,s,u,pr);case 2:return void X(i,n,s,u,Sn);case 3:if(i.h!==n.h)return void Et(s,0,u,n);var W=xt(i.d,n.d);W&&Et(s,4,u,W);var et=n.i(i.g,n.g);return void(et&&Et(s,5,u,et))}}}function X(i,n,s,u,h){if(i.c===n.c&&i.f===n.f){var l=xt(i.d,n.d);l&&Et(s,4,u,l),h(i,n,s,u)}else Et(s,0,u,n)}function xt(i,n,s){var u;for(var h in i)if(h!=="a1"&&h!=="a0"&&h!=="a3"&&h!=="a4")if(h in n){var l=i[h],_=n[h];l===_&&h!=="value"&&h!=="checked"||s==="a0"&&Ei(l,_)||((u=u||{})[h]=_)}else(u=u||{})[h]=s?s==="a1"?"":s==="a0"||s==="a3"?void 0:{f:i[h].f,o:void 0}:typeof i[h]=="string"?"":null;else{var p=xt(i[h],n[h]||{},h);p&&((u=u||{})[h]=p)}for(var x in n)x in i||((u=u||{})[x]=n[x]);return u}function pr(i,n,s,u){var h=i.e,l=n.e,_=h.length,p=l.length;_>p?Et(s,6,u,{v:p,i:_-p}):p>_&&Et(s,7,u,{v:_,e:l});for(var x=p>_?_:p,k=0;x>k;k++){var S=h[k];ie(S,l[k],s,++u),u+=S.b||0}}function Sn(i,n,s,u){for(var h=[],l={},_=[],p=i.e,x=n.e,k=p.length,S=x.length,z=0,I=0,$=u;k>z&&S>I;){var U=(er=p[z]).a,V=(pn=x[I]).a,W=er.b,et=pn.b,j=void 0,dt=void 0;if(U!==V){var ut=p[z+1],Dt=x[I+1];if(ut){var Rt=ut.a,ve=ut.b;dt=V===Rt}if(Dt){var Di=Dt.a,Ti=Dt.b;j=U===Di}if(j&&dt)ie(W,Ti,h,++$),Ji(l,h,U,et,I,_),$+=W.b||0,Qe(l,h,U,ve,++$),$+=ve.b||0,z+=2,I+=2;else if(j)$++,Ji(l,h,V,et,I,_),ie(W,Ti,h,$),$+=W.b||0,z+=1,I+=2;else if(dt)Qe(l,h,U,W,++$),$+=W.b||0,ie(ve,et,h,++$),$+=ve.b||0,z+=2,I+=1;else{if(!ut||Rt!==Di)break;Qe(l,h,U,W,++$),Ji(l,h,V,et,I,_),$+=W.b||0,ie(ve,Ti,h,++$),$+=ve.b||0,z+=2,I+=2}}else ie(W,et,h,++$),$+=W.b||0,z++,I++}for(;k>z;){var er;$++,Qe(l,h,(er=p[z]).a,W=er.b,$),$+=W.b||0,z++}for(;S>I;){var pn,ir=ir||[];Ji(l,h,(pn=x[I]).a,pn.b,void 0,ir),I++}(h.length>0||_.length>0||ir)&&Et(s,8,u,{w:h,x:_,y:ir})}var ne="_elmW6BL";function Ji(i,n,s,u,h,l){var _=i[s];if(!_)return l.push({r:h,A:_={c:0,z:u,r:h,s:void 0}}),void(i[s]=_);if(_.c===1){l.push({r:h,A:_}),_.c=2;var p=[];return ie(_.z,u,p,_.r),_.r=h,void(_.s.s={w:p,A:_})}Ji(i,n,s+ne,u,h,l)}function Qe(i,n,s,u,h){var l=i[s];if(l){if(l.c===0){l.c=2;var _=[];return ie(u,l.z,_,h),void Et(n,9,h,{w:_,A:l})}Qe(i,n,s+ne,u,h)}else{var p=Et(n,9,h,void 0);i[s]={c:1,z:u,r:h,s:p}}}function ti(i,n,s,u){vt(i,n,s,0,0,n.b,u)}function vt(i,n,s,u,h,l,_){for(var p=s[u],x=p.r;x===h;){var k=p.$;if(k===1)ti(i,n.k,p.s,_);else if(k===8)p.t=i,p.u=_,(S=p.s.w).length>0&&vt(i,n,S,0,h,l,_);else if(k===9){p.t=i,p.u=_;var S,z=p.s;z&&(z.A.s=i,(S=z.w).length>0&&vt(i,n,S,0,h,l,_))}else p.t=i,p.u=_;if(!(p=s[++u])||(x=p.r)>l)return u}var I=n.$;if(I===4){for(var $=n.k;$.$===4;)$=$.k;return vt(i,$,s,u,h+1,l,i.elm_event_node_ref)}for(var U=n.e,V=i.childNodes,W=0;U.length>W;W++){h++;var et=I===1?U[W]:U[W].b,j=h+(et.b||0);if(!(h>x||x>j||(p=s[u=vt(V[W],et,s,u,h,j,_)])&&(x=p.r)<=l))return u;h=j}return u}var Se=null;function ei(i,n){for(var s=0;n.length>s;s++){var u=n[s],h=u.t,l=Qi(h,u);h===i&&(i=l)}return i}function Qi(i,n){switch(n.$){case 0:return(function(p,x,k){var S=p.parentNode,z=be(x,k);return z.elm_event_node_ref||(z.elm_event_node_ref=p.elm_event_node_ref),S&&z!==p&&S.replaceChild(z,p),z})(i,n.s,n.u);case 4:return kn(i,n.u,n.s),i;case 3:return i.replaceData(0,i.length,n.s),i;case 1:return ei(i,n.s);case 2:return i.elm_event_node_ref?i.elm_event_node_ref.j=n.s:i.elm_event_node_ref={j:n.s,p:n.u},i;case 6:for(var s=n.s,u=0;s.i>u;u++)i.removeChild(i.childNodes[s.v]);return i;case 7:for(var h=(s=n.s).e,l=i.childNodes[u=s.v];h.length>u;u++)i.insertBefore(be(h[u],n.u),l);return i;case 9:if(!(s=n.s))return i.parentNode.removeChild(i),i;var _=s.A;return _.r!==void 0&&i.parentNode.removeChild(i),_.s=ei(i,s.w),i;case 8:return(function(p,x){var k=x.s,S=(function(W,et){if(W){for(var j=Ce.createDocumentFragment(),dt=0;W.length>dt;dt++){var ut=W[dt].A;Je(j,ut.c===2?ut.s:be(ut.z,et.u))}return j}})(k.y,x);p=ei(p,k.w);for(var z=k.x,I=0;z.length>I;I++){var $=z[I],U=$.A,V=U.c===2?U.s:be(U.z,x.u);p.insertBefore(V,p.childNodes[$.r])}return S&&Je(p,S),p})(i,n);case 5:return n.s(i);default:De(10)}}function En(i){if(i.nodeType===3)return Tn(i.textContent);if(i.nodeType!==1)return Tn("");for(var n=P,s=i.attributes,u=s.length;u--;){var h=s[u];n=ue(a(Yi,h.name,h.value),n)}var l=i.tagName.toLowerCase(),_=P,p=i.childNodes;for(u=p.length;u--;)_=ue(En(p[u]),_);return T(ht,l,n,_)}var tn=rt((function(i,n,s,u){return(function(h,l,_,p,x,k){var S=a(Ki,h,l?l.flags:void 0);le(S)||De(2);var z={},I=_(S.a),$=I.a,U=k(W,$),V=(function(j,dt){var ut;for(var Dt in Bt){var Rt=Bt[Dt];Rt.a&&((ut=ut||{})[Dt]=Rt.a(Dt,dt)),j[Dt]=uo(Rt,dt)}return ut})(z,W);function W(j,dt){var ut=a(p,j,$);U($=ut.a,dt),_r(z,ut.b,x($))}_r(z,I.b,x($));var et=V?{ports:V}:{};return et.unmount=function(){U($,!0),_r(z,Ln(P),Ln(P)),z=null,$=null,U=null,V=null;var j=Se;if(Se=null,j.elmFs){for(var dt in j.elmFs)j.removeEventListener(dt,j.elmFs[dt]);delete j.elmFs}j.replaceChildren&&j.replaceChildren(),l&&l.node?j.replaceWith(l.node):j.remove()},et})(n,u,i.cO,i.dD,i.dy,(function(h,l){var _=i.a2&&i.a2(h),p=i.a7,x=Ce.title,k=Ce.body,S=En(k);return(function(z,I){I(z);var $=0;function U(){$=$===1?0:(zn(U),I(z),1)}return function(V,W){z=V,W?(I(z),$===2&&($=1)):($===0&&zn(U),$=2)}})(l,(function(z){Vi=_;var I=p(z),$=ht("body")(P)(I.cn),U=(function(V,W){var et=[];return ie(V,W,et,0),et})(S,$);k=(function(V,W,et,j){return et.length===0?Se=V:(ti(V,W,et,j),Se=ei(V,et))})(k,S,U,h),S=$,Vi=0,x!==I.dB&&(Ce.title=x=I.dB)}))}))})),zn=typeof requestAnimationFrame<"u"?requestAnimationFrame:function(i){return setTimeout(i,1e3/60)};function en(){return Dn(Ce.location.href).a||De(1)}var On=g((function(i,n){return a(me,Bo,ke((function(){history.pushState({},"",n),i()})))})),zi=typeof window<"u"?window:{addEventListener:function(){},removeEventListener:function(){}},vr=E((function(i,n,s){return ke((function(u){function h(_){u(n(s.X.a(_)))}var l=new XMLHttpRequest;l.addEventListener("error",(function(){h(Qs)})),l.addEventListener("timeout",(function(){h(iu)})),l.addEventListener("load",(function(){h((function(_,p){return a(p.status>=200&&300>p.status?Js:Ys,(function(x){return{dF:x.responseURL,dv:x.status,dw:x.statusText,av:An(x.getAllResponseHeaders())}})(p),_(p.response))})(s.X.b,l))})),Ua(s.aC)&&(function(_,p,x){p.upload.addEventListener("progress",(function(k){p.c||bn(a(qa,_,w(x,eu({dr:k.loaded,ds:k.total}))))})),p.addEventListener("progress",(function(k){p.c||bn(a(qa,_,w(x,tu({dk:k.loaded,ds:k.lengthComputable?N(k.total):y}))))}))})(i,l,s.aC.a);try{l.open(s.ax,s.dF,!0)}catch{return h(Xs(s.dF))}return(function(_,p){for(var x=p.av;x.b;x=x.b)_.setRequestHeader(x.a.a,x.a.b);_.timeout=p.aA.a||0,_.responseType=p.X.d,_.withCredentials=p.ce})(l,s),s.cn.a&&l.setRequestHeader("Content-Type",s.cn.a),l.send(s.cn.b),function(){l.c=!0,l.abort()}}))}));function An(i){if(!i)return vi;for(var n=vi,s=i.split(`\r
`),u=s.length;u--;){var h=s[u],l=h.indexOf(": ");if(l>0){var _=h.substring(0,l),p=h.substring(l+2);n=T(Ai,_,(function(x){return N(Ua(x)?p+", "+x.a:p)}),n)}}return n}var gr=E((function(i,n,s){return{$:0,d:i,b:n,a:s}})),yr=g((function(i,n){return{$:0,d:n.d,b:n.b,a:function(s){return i(n.a(s))}}}));function wa(i){return new DataView(i)}var K,Ee=g((function(i,n){return{$:0,a:i,b:n}})),ft=1,bo=2,br=0,at=gn,Zn=E((function(i,n,s){for(;;){if(s.$===-2)return n;var u=s.d,h=i,l=T(i,s.b,s.c,T(Zn,i,n,s.e));i=h,n=l,s=u}})),ii=function(i){return T(Zn,E((function(n,s,u){return a(at,w(n,s),u)})),P,i)},Wt=function(i){return{$:1,a:i}},di=g((function(i,n){return{$:3,a:i,b:n}})),Zt=g((function(i,n){return{$:0,a:i,b:n}})),ni=g((function(i,n){return{$:1,a:i,b:n}})),re=function(i){return{$:0,a:i}},wo=function(i){return{$:2,a:i}},N=function(i){return{$:0,a:i}},y={$:1},wr=q,xo=ha,It=function(i){return i+""},J=g((function(i,n){return a(Y,i,(function(s){for(var u=[];s.b;s=s.b)u.push(s.a);return u})(n))})),oe=g((function(i,n){return d(a(Hi,i,n))})),he=function(i){return a(J,`
    `,a(oe,`
`,i))},ze=E((function(i,n,s){for(;;){if(!s.b)return n;var u=s.b,h=i,l=a(i,s.a,n);i=h,n=l,s=u}})),In=function(i){return T(ze,g((function(n,s){return s+1})),0,i)},xa=Yr,xr=E((function(i,n,s){for(;;){if(At(i,n)>=1)return s;var u=i,h=n-1,l=a(at,n,s);i=u,n=h,s=l}})),Lo=g((function(i,n){return T(xr,i,n,P)})),Po=g((function(i,n){return T(xa,i,a(Lo,0,In(n)-1),n)})),Lr=function(i){var n=i.charCodeAt(0);return 55296>n||n>56319?n:1024*(n-55296)+i.charCodeAt(1)-56320+65536},To=function(i){var n=Lr(i);return n>=97&&122>=n},Bn=function(i){var n=Lr(i);return 90>=n&&n>=65},La=function(i){return To(i)||Bn(i)},Oe=function(i){return To(i)||Bn(i)||(function(n){var s=Lr(n);return 57>=s&&s>=48})(i)},Ae=function(i){return T(ze,at,P,i)},Mo=function(i){var n=i.charCodeAt(0);return isNaN(n)?y:N(55296>n||n>56319?w(i[0],i.slice(1)):w(i[0]+i[1],i.slice(2)))},ri=g((function(i,n){return`

(`+It(i+1)+") "+he(Pr(n))})),Pr=function(i){return a(ko,i,P)},ko=g((function(i,n){t:for(;;)switch(i.$){case 0:var s=i.a,u=i.b,h=(function(){var S=Mo(s);if(S.$===1)return!1;var z=S.a,I=z.b;return La(z.a)&&a(wr,Oe,I)})();i=u,n=a(at,h?"."+s:"['"+s+"']",n);continue t;case 1:u=i.b;var l="["+It(i.a)+"]";i=u,n=a(at,l,n);continue t;case 2:var _=i.a;if(_.b){if(_.b.b){var p=(n.b?"The Json.Decode.oneOf at json"+a(J,"",Ae(n)):"Json.Decode.oneOf")+" failed in the following "+It(In(_))+" ways:";return a(J,`

`,a(at,p,a(Po,ri,_)))}i=u=_.a;continue t}return"Ran into a Json.Decode.oneOf with no possibilities"+(n.b?" at json"+a(J,"",Ae(n)):"!");default:var x=i.a,k=i.b;return(p=n.b?"Problem with the value at json"+a(J,"",Ae(n))+`:

    `:`Problem with the given value:

`)+he(a(xo,4,k))+`

`+x}})),ae=32,Tr=rt((function(i,n,s,u){return{$:0,a:i,b:n,c:s,d:u}})),$n=[],Nn=ce,Co=g((function(i,n){return Jr(n)/Jr(i)})),Mr=Nn(a(Co,2,ae)),kr=Ht(Tr,0,Mr,$n,$n),So=Xr,Eo=g((function(i,n){return n(i)})),Cr=ua,nn=function(i){return i.length},He=g((function(i,n){return At(i,n)>0?i:n})),zo=ar,rn=g((function(i,n){for(;;){var s=a(zo,ae,i),u=s.b,h=a(at,{$:0,a:s.a},n);if(!u.b)return Ae(h);i=u,n=h}})),fe=g((function(i,n){for(;;){var s=Nn(n/ae);if(s===1)return a(zo,ae,i).a;i=a(rn,i,P),n=s}})),Oo=g((function(i,n){if(n.j){var s=n.j*ae,u=Cr(a(Co,ae,s-1)),h=i?Ae(n.n):n.n,l=a(fe,h,n.j);return Ht(Tr,nn(n.l)+s,a(He,5,u*Mr),l,n.l)}return Ht(Tr,nn(n.l),Mr,$n,n.l)})),Ao=it((function(i,n,s,u,h){for(;;){if(0>n)return a(Oo,!1,{n:u,j:s/ae|0,l:h});var l={$:1,a:T(So,ae,n,i)};n-=ae,u=a(at,l,u)}})),Pa=g((function(i,n){if(i>0){var s=i%ae;return D(Ao,n,i-s-ae,i,P,T(So,s,i-s,n))}return kr})),le=function(i){return!i.$},Ot=ur,Sr=ca,se=function(i){return{$:0,a:i}},Er=function(i){switch(i.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},Jt=function(i){return i},de=(function(i){return C(6,i,(function(n){return function(s){return function(u){return function(h){return function(l){return function(_){return i(n,s,u,h,l,_)}}}}}}))})((function(i,n,s,u,h,l){return{bo:l,bu:n,bI:u,bK:s,bO:i,di:h}})),_i=yt,Zo=function(i){return i.length},_e=Qr,oi=g((function(i,n){return 1>i?n:T(_e,i,Zo(n),n)})),we=Vt,jt=function(i){return i===""},We=g((function(i,n){return 1>i?"":T(_e,0,i,n)})),xe=function(i){for(var n=0,s=i.charCodeAt(0),u=s==43||s==45?1:0,h=u;i.length>h;++h){var l=i.charCodeAt(h);if(48>l||l>57)return y;n=10*n+l-48}return h==u?y:N(s==45?-n:n)},on=it((function(i,n,s,u,h){if(jt(h)||a(_i,"@",h))return y;var l=a(we,":",h);if(l.b){if(l.b.b)return y;var _=l.a,p=xe(a(oi,_+1,h));if(p.$===1)return y;var x=p;return N(ct(de,i,a(We,_,h),x,n,s,u))}return N(ct(de,i,h,y,n,s,u))})),Io=rt((function(i,n,s,u){if(jt(u))return y;var h=a(we,"/",u);if(h.b){var l=h.a;return D(on,i,a(oi,l,u),n,s,a(We,l,u))}return D(on,i,"/",n,s,u)})),je=E((function(i,n,s){if(jt(s))return y;var u=a(we,"?",s);if(u.b){var h=u.a;return Ht(Io,i,N(a(oi,h+1,s)),n,a(We,h,s))}return Ht(Io,i,y,n,s)})),an=g((function(i,n){if(jt(n))return y;var s=a(we,"#",n);if(s.b){var u=s.a;return T(je,i,N(a(oi,u+1,n)),a(We,u,n))}return T(je,i,y,n)})),zr=Gt,Dn=function(i){return a(zr,"http://",i)?a(an,0,a(oi,7,i)):a(zr,"https://",i)?a(an,1,a(oi,8,i)):y},Bo=function(i){},Lt=Me,Ta=Lt(0),mi=rt((function(i,n,s,u){if(u.b){var h=u.a,l=u.b;if(l.b){var _=l.a,p=l.b;if(p.b){var x=p.a,k=p.b;if(k.b){var S=k.b;return a(i,h,a(i,_,a(i,x,a(i,k.a,s>500?T(ze,i,n,Ae(S)):Ht(mi,i,n,s+1,S)))))}return a(i,h,a(i,_,a(i,x,n)))}return a(i,h,a(i,_,n))}return a(i,h,n)}return n})),ai=E((function(i,n,s){return Ht(mi,i,n,0,s)})),kt=g((function(i,n){return T(ai,g((function(s,u){return a(at,i(s),u)})),P,n)})),Le=yn,Rn=g((function(i,n){return a(Le,(function(s){return Lt(i(s))}),n)})),Or=E((function(i,n,s){return a(Le,(function(u){return a(Le,(function(h){return Lt(a(i,u,h))}),s)}),n)})),sn=function(i){return T(ai,Or(at),Lt(P),i)},un=la,Fn=g((function(i,n){var s=n;return hr(a(Le,un(i),s))}));Bt.Task=dr(Ta,E((function(i,n){return a(Rn,(function(){return 0}),sn(a(kt,Fn(i),n)))})),E((function(){return Lt(0)})),g((function(i,n){return a(Rn,i,n)})));var pi,Hn=xn("Task"),me=g((function(i,n){return Hn(a(Rn,i,n))})),Ke=function(i){return{$:3,a:i}},Kt=Jt,Wn={E:Kt(0),F:P,aH:1,bC:"en",a7:"month"},$o={cc:!1,cx:"",K:"",P,cK:y,L:"",Q:!1,cT:"",aN:{$:0},ab:y,dt:"",D:0,dB:"",dF:""},No={t:1,aO:20,ak:!1},Ma={W:y,F:P,Q:!1},Do={ag:w(60.1699,24.9384),_:y,ao:10},jn=_a,Ze={$:7},si=it((function(i,n,s,u,h){return{Y:u,aa:s,U:n,dH:h,af:i}})),Ro=function(i){return i.b&&(i.a!==""||i.b.b)?a(at,i.a,Ro(i.b)):P},Kn=g((function(i,n){return N(n.$===1?d([i]):a(at,i,n.a))})),Fo=function(i){try{return N(decodeURIComponent(i))}catch{return y}},Ar=pt,Oi=g((function(i,n){t:for(;;){if(n.$===-2)return y;var s=n.c,u=n.d,h=n.e;switch(a(Ar,i,n.b)){case 0:n=u;continue t;case 1:return N(s);default:n=h;continue t}}})),tt=it((function(i,n,s,u,h){return{$:-1,a:i,b:n,c:s,d:u,e:h}})),Ue={$:-2},Pe=it((function(i,n,s,u,h){if(h.$!==-1||h.a){if(u.$!==-1||u.a||u.d.$!==-1||u.d.a)return D(tt,i,n,s,u,h);var l=u.d;return _=u.e,D(tt,0,u.b,u.c,D(tt,1,l.b,l.c,l.d,l.e),D(tt,1,n,s,_,h))}var _,p=h.b,x=h.c,k=h.d,S=h.e;return u.$!==-1||u.a?D(tt,i,p,x,D(tt,0,n,s,u,k),S):D(tt,0,n,s,D(tt,1,u.b,u.c,u.d,_=u.e),D(tt,1,p,x,k,S))})),Un=E((function(i,n,s){if(s.$===-2)return D(tt,0,i,n,Ue,Ue);var u=s.a,h=s.b,l=s.c,_=s.d,p=s.e;switch(a(Ar,i,h)){case 0:return D(Pe,u,h,l,T(Un,i,n,_),p);case 1:return D(tt,u,h,n,_,p);default:return D(Pe,u,h,l,_,T(Un,i,n,p))}})),qn=E((function(i,n,s){var u=T(Un,i,n,s);return u.$!==-1||u.a?u:D(tt,1,u.b,u.c,u.d,u.e)})),Ho=function(i){if(i.$===-1&&i.d.$===-1&&i.e.$===-1){if(i.e.d.$!==-1||i.e.d.a){var n=i.d,s=i.e;return _=s.b,p=s.c,u=s.d,S=s.e,D(tt,1,i.b,i.c,D(tt,0,n.b,n.c,n.d,n.e),D(tt,0,_,p,u,S))}var u,h=i.d,l=i.e,_=l.b,p=l.c,x=(u=l.d).d,k=u.e,S=l.e;return D(tt,0,u.b,u.c,D(tt,1,i.b,i.c,D(tt,0,h.b,h.c,h.d,h.e),x),D(tt,1,_,p,k,S))}return i},Ie=function(i){if(i.$===-1&&i.d.$===-1&&i.e.$===-1){if(i.d.d.$!==-1||i.d.d.a){var n=i.d,s=n.d,u=i.e;return S=u.b,z=u.c,I=u.d,$=u.e,D(tt,1,h=i.b,l=i.c,D(tt,0,n.b,n.c,s,x=n.e),D(tt,0,S,z,I,$))}var h=i.b,l=i.c,_=i.d,p=_.d,x=_.e,k=i.e,S=k.b,z=k.c,I=k.d,$=k.e;return D(tt,0,_.b,_.c,D(tt,1,p.b,p.c,p.d,p.e),D(tt,1,h,l,x,D(tt,0,S,z,I,$)))}return i},Wo=(function(i){return C(7,i,(function(n){return function(s){return function(u){return function(h){return function(l){return function(_){return function(p){return i(n,s,u,h,l,_,p)}}}}}}}))})((function(i,n,s,u,h,l,_){if(l.$!==-1||l.a){t:for(;;){if(_.$===-1&&_.a===1){if(_.d.$===-1){if(_.d.a===1)return Ie(n);break t}return Ie(n)}break t}return n}return D(tt,s,l.b,l.c,l.d,D(tt,0,u,h,l.e,_))})),cn=function(i){if(i.$===-1&&i.d.$===-1){var n=i.a,s=i.b,u=i.c,h=i.d,l=h.d,_=i.e;if(h.a===1){if(l.$!==-1||l.a){var p=Ho(i);if(p.$===-1){var x=p.e;return D(Pe,p.a,p.b,p.c,cn(p.d),x)}return Ue}return D(tt,n,s,u,cn(h),_)}return D(tt,n,s,u,cn(h),_)}return Ue},qe=g((function(i,n){if(n.$===-2)return Ue;var s=n.a,u=n.b,h=n.c,l=n.d,_=n.e;if(0>At(i,u)){if(l.$===-1&&l.a===1){var p=l.d;if(p.$!==-1||p.a){var x=Ho(n);if(x.$===-1){var k=x.e;return D(Pe,x.a,x.b,x.c,a(qe,i,x.d),k)}return Ue}return D(tt,s,u,h,a(qe,i,l),_)}return D(tt,s,u,h,a(qe,i,l),_)}return a(ka,i,(function(S,z,I,$,U,V,W,et){return S.a===7?S.f(z,I,$,U,V,W,et):S(z)(I)($)(U)(V)(W)(et)})(Wo,i,n,s,u,h,l,_))})),ka=g((function(i,n){if(n.$===-1){var s=n.a,u=n.b,h=n.c,l=n.d,_=n.e;if(Tt(i,u)){var p=(function(x){for(;;){if(x.$!==-1||x.d.$!==-1)return x;x=x.d}})(_);return p.$===-1?D(Pe,s,p.b,p.c,l,cn(_)):Ue}return D(Pe,s,u,h,l,a(qe,i,_))}return Ue})),hn=g((function(i,n){var s=a(qe,i,n);return s.$!==-1||s.a?s:D(tt,1,s.b,s.c,s.d,s.e)})),Ai=E((function(i,n,s){var u=n(a(Oi,i,s));return u.$?a(hn,i,s):T(qn,i,u.a,s)})),jo=g((function(i,n){var s=a(oe,"=",i);if(s.b&&s.b.b&&!s.b.b.b){var u=s.b.a,h=Fo(s.a);if(h.$===1)return n;var l=h.a,_=Fo(u);return _.$===1?n:T(Ai,l,Kn(_.a),n)}return n})),vi=Ue,Ca=g((function(i,n){var s;return(function(u){t:for(;;){if(u.b){var h=u.a,l=h.U;if(l.b){if(l.a!==""||l.b.b){u=u.b;continue t}return N(h.dH)}return N(h.dH)}return y}})(i(D(si,P,(function(u){var h=a(oe,"/",u);return Ro(h.b&&h.a===""?h.b:h)})(n.bI),(s=n.di).$===1?vi:T(ai,jo,vi,a(oe,"&",s.a)),n.bo,Jt)))})),Ko=g((function(i,n){return D(si,n.af,n.U,n.aa,n.Y,i(n.dH))})),ui=g((function(i,n){var s=n;return function(u){var h=u.Y,l=u.aa,_=u.U,p=u.af;return a(kt,Ko(u.dH),s(D(si,p,_,l,h,i)))}})),Uo=g((function(i,n){return n.b?T(ai,at,n,i):i})),Zr=function(i){return T(ai,Uo,P,i)},Ir=g((function(i,n){return Zr(a(kt,i,n))})),ci=function(i){return function(n){var s=n.dH,u=n.Y,h=n.aa,l=n.U,_=n.af;if(l.b){var p=l.a,x=l.b;return Tt(p,i)?d([D(si,a(at,p,_),x,h,u,s)]):P}return P}},fn=g((function(i,n){var s=i,u=n;return function(h){return a(Ir,u,s(h))}})),Br=a(g((function(i,n){return function(s){var u=s.dH,h=s.Y,l=s.aa,_=s.U,p=s.af;if(_.b){var x=_.a,k=_.b,S=n(x);if(S.$)return P;var z=S.a;return d([D(si,a(at,x,p),k,l,h,u(z))])}return P}})),"STRING",N),Sa=(pi=d([a(ui,{$:0},(function(i){return d([i])})),a(ui,{$:2},ci("map")),a(ui,{$:3},a(fn,ci("events"),ci("create"))),a(ui,(function(i){return{$:4,a:i}}),a(fn,ci("events"),Br)),a(ui,(function(i){return{$:5,a:i}}),a(fn,ci("events"),a(fn,Br,ci("edit")))),a(ui,{$:1},ci("events")),a(ui,{$:6},ci("callback"))]),function(i){return a(Ir,(function(n){return n(i)}),pi)}),t=function(i){var n=a(Ca,Sa,i);return n.$?Ze:n.a},e=function(i){return{$:3,a:i}},r=g((function(i,n){return{$:7,a:i,b:n}})),o=function(i){return{$:5,a:i}},c=function(i){return{$:1,a:i}},f=g((function(i,n){return{$:0,a:i,b:n}})),m=function(i){return i.$?P:d([a(f,"Authorization","Bearer "+i.a)])},v="http://localhost:8090",b=Sr(Eo),M=st,A=ji,B=Xe,Q=a(A,(function(i){switch(i){case"draft":return se(0);case"pending":return se(1);case"published":return se(2);case"deleted":return se(3);default:return(function(n){return{$:1,a:n}})("Unknown event state: "+i)}}),B),G=to,Pt=function(i){return{$:5,c:i}},$t=function(i){return{$:11,g:i}},gt=function(i){return $t(d([Pt(y),a(Ot,N,i)]))},gi=Ki,$r=Fe,yi=g((function(i,n){return a(A,(function(s){return a(gi,a(G,i,$r),s).$?se(y):a(Ot,N,a(G,i,n))}),$r)})),Zi=nt,qo=T(Sr,g((function(i,n){return{aI:i,aL:n}})),a(G,"lat",Zi),a(G,"lon",Zi)),Mt=g((function(i,n){return n.$?i:n.a})),Gn=a(b,a(G,"updated",B),a(b,a(G,"created",B),a(b,a(Ot,Mt(y),a(yi,"point",gt(qo))),a(b,a(Ot,Mt(y),a(yi,"image_description",gt(B))),a(b,a(Ot,Mt(y),a(yi,"image",gt(B))),a(b,a(G,"state",Q),a(b,a(Ot,Mt(y),a(yi,"location",gt(B))),a(b,a(Ot,Mt(y),a(yi,"url",gt(B))),a(b,a(G,"all_day",M),a(b,a(Ot,Mt(y),a(yi,"end_date",gt(B))),a(b,a(G,"start_date",B),a(b,a(Ot,Mt(y),a(yi,"description",gt(B))),a(b,a(G,"title",B),a(b,a(G,"id",B),se((function(i){return function(n){return function(s){return function(u){return function(h){return function(l){return function(_){return function(p){return function(x){return function(k){return function(S){return function(z){return function(I){return function($){return{cc:l,cu:I,cx:s,K:h,bv:i,cK:k,L:S,cT:p,ab:z,dt:u,D:x,dB:n,dE:$,dF:_}}}}}}}}}}}}}}})))))))))))))))),Ct=Ci,St=Ci,Ge=null,Be=Ci,hi=function(i){return T(ze,g((function(n,s){return T(oo,n.a,n.b,s)})),{},i)},Nr=function(i){return i.$?Ge:hi(d([w("lat",Be((n=i.a).aI)),w("lon",Be(n.aL))]));var n},bi=function(i){return i.$?Ge:St(i.a)},Go=function(i){return hi(d([w("id",St(i.bv)),w("title",St(i.dB)),w("description",bi(i.cx)),w("start_date",St(i.dt)),w("end_date",bi(i.K)),w("all_day",Ct(i.cc)),w("url",bi(i.dF)),w("location",bi(i.cT)),w("state",(n=i.D,St((function(){switch(n){case 0:return"draft";case 1:return"pending";case 2:return"published";default:return"deleted"}})()))),w("image",bi(i.cK)),w("image_description",bi(i.L)),w("point",Nr(i.ab)),w("created",St(i.cu)),w("updated",St(i.dE))]));var n},Vs=io,Ys=g((function(i,n){return{$:3,a:i,b:n}})),Xs=function(i){return{$:0,a:i}},Js=g((function(i,n){return{$:4,a:i,b:n}})),Qs={$:2},tu=function(i){return{$:1,a:i}},eu=function(i){return{$:0,a:i}},iu={$:1},Ua=function(i){return!i.$},qa=da,Ea=E((function(i,n,s){return n(i(s))})),nu=g((function(i,n){return T(gr,"",Jt,a(Ea,n,i))})),Ga=g((function(i,n){return n.$?Wt(i(n.a)):re(n.a)})),ru=function(i){return{$:4,a:i}},ou={$:2},au={$:1},Va=g((function(i,n){switch(n.$){case 0:return Wt({$:0,a:n.a});case 1:return Wt(au);case 2:return Wt(ou);case 3:return Wt((function(s){return{$:3,a:s}})(n.a.dv));default:return a(Ga,ru,i(n.b))}})),Dr=g((function(i,n){return a(nu,i,Va((function(s){return a(Ga,Pr,a(Vs,n,s))})))})),Vo=function(i){return a(Ee,"application/json",a(xo,0,i))},Ya=function(i){return{$:1,a:i}},Xa=g((function(i,n){return{bQ:i,b1:n}})),su=Lt(a(Xa,vi,P)),uu=function(i){return ke((function(n){var s=i.f;s.$===2&&s.c&&s.c(),i.f=null,n(Me(0))}))},cu=hr,za=E((function(i,n,s){t:for(;;){if(n.b){var u=n.a,h=n.b;if(u.$){var l=u.a;return a(Le,(function(x){var k=l.aC;return T(za,i,h,k.$===1?s:T(qn,k.a,x,s))}),cu(T(vr,i,un(i),l)))}var _=u.a,p=a(Oi,_,s);if(p.$===1){n=h;continue t}return a(Le,(function(){return T(za,i,h,a(hn,_,s))}),uu(p.a))}return Lt(s)}})),hu=rt((function(i,n,s,u){return a(Le,(function(h){return Lt(a(Xa,h,s))}),T(za,i,n,u.bQ))})),fu=E((function(i,n,s){var u=i(n);return u.$?s:a(at,u.a,s)})),Yo=g((function(i,n){return T(ai,fu(i),P,n)})),lu=rt((function(i,n,s,u){var h=u.b;return Tt(n,u.a)?N(a(un,i,h(s))):y})),du=E((function(i,n,s){return a(Le,(function(){return Lt(s)}),sn(a(Yo,T(lu,i,n.a,n.b),s.b1)))})),_u=g((function(i,n){if(n.$){var s=n.a;return Ya({ce:s.ce,cn:s.cn,X:a(yr,i,s.X),av:s.av,ax:s.ax,aA:s.aA,aC:s.aC,dF:s.dF})}return{$:0,a:n.a}})),mu=g((function(i,n){return{$:0,a:i,b:n}}));Bt.Http=dr(su,hu,du,_u,g((function(i,n){return a(mu,n.a,a(Ea,n.b,i))})));var Oa,pu=xn("Http"),Vn=(function(i){return pu(Ya({ce:!1,cn:i.cn,X:i.X,av:i.av,ax:i.ax,aA:i.aA,aC:i.aC,dF:i.dF}))}),vu=E((function(i,n,s){return Vn({cn:Vo(Go(n)),X:a(Dr,s,Gn),av:m(i),ax:"POST",aA:y,aC:y,dF:v+"/api/collections/events/records"})})),Aa={$:0},gu=g((function(i,n){return T(gr,"arraybuffer",wa,a(Ea,n,i))})),Ja=function(i){return a(gu,i,Va((function(){return re(0)})))},yu=E((function(i,n,s){return Vn({cn:Aa,X:Ja(s),av:m(i),ax:"DELETE",aA:y,aC:y,dF:v+"/api/collections/events/records/"+n})})),Yn=g((function(i,n){return T(ai,g((function(s,u){return i(s)?a(at,s,u):u})),P,n)})),Qa=function(i){return{$:3,b:i}},bu=a(G,"items",Qa(Gn)),wu=g((function(i,n){return Vn({cn:Aa,X:a(Dr,n,bu),av:m(i),ax:"GET",aA:y,aC:y,dF:v+"/api/collections/events/records"})})),Za=Ln,lt=Za(P),xu=rt((function(i,n,s,u){return Vn({cn:Vo(Go(s)),X:a(Dr,u,Gn),av:m(i),ax:"PATCH",aA:y,aC:y,dF:v+"/api/collections/events/records/"+n})})),ts=g((function(i,n){switch(i.$){case 0:var s=i.a;return w(H(n,{W:y,Q:!0}),a(wu,s,c));case 1:return w(H(n,(h=i.a).$?{W:N("Failed to fetch events"),Q:!1}:{F:h.a,Q:!1}),lt);case 2:return w(n,T(vu,s=i.a,i.b,e));case 3:return w(H(n,(h=i.a).$?{W:N("Failed to create event")}:{F:a(at,h.a,n.F)}),lt);case 4:return w(n,Ht(xu,s=i.a,l=i.b,u=i.c,o));case 5:if((h=i.a).$)return w(H(n,{W:N("Failed to update event")}),lt);var u=h.a;return w(H(n,{F:a(kt,(function(_){return Tt(_.bv,u.bv)?u:_}),n.F)}),lt);case 6:return w(n,T(yu,s=i.a,l=i.b,r(l)));default:var h,l=i.a;return w(H(n,(h=i.b).$?{W:N("Failed to delete event")}:{F:a(Yn,(function(_){return!Tt(_.bv,l)}),n.F)}),lt)}})),Lu=E((function(i,n,s){var u=a(ts,{$:0,a:y},Ma),h=u.a,l=u.b;return w((function(_){return function(p){return function(x){return function(k){return function(S){return function(z){return function(I){return function($){return function(U){return function(V){return function(W){return function(et){return function(j){return function(dt){return{m:U,A:k,W:et,x:I,aF:$,F:S,M:_,Q:j,aJ:V,aK:W,aj:z,a1:x,aS:dt,dF:p}}}}}}}}}}}}}}})(s)(n)(t(n))(Wn)(h)(Do)($o)(No)(y)("")("")(y)(!0)(""),a(jn,Ke,l))})),Pu={$:9},Tu=function(i){return{$:8,a:i}},Mu=function(i){return{$:21,a:i}},ku=function(i){return{$:10,a:i}},Cu=g((function(i){return i})),Su=Gi("authRemoved",Pt(0)),Eu=Gi("authStored",a(A,(function(i){return a(A,(function(n){return se({ad:n,dG:i})}),a(G,"token",$t(d([Pt(y),a(Ot,N,B)]))))}),a(G,"user",$t(d([Pt(y),a(Ot,N,a(A,(function(i){return a(A,(function(n){return a(A,(function(s){return a(A,(function(u){return se({bb:u,bk:s,bv:n,cZ:i})}),a(G,"avatar",$t(d([Pt(y),a(Ot,N,B)]))))}),a(G,"email",B))}),a(G,"id",B))}),a(G,"name",$t(d([Pt(y),a(Ot,N,B)])))))]))))),zu=Ln,Ou=Gi("kmlContentParsed",$r),es=sr,Au=Gi("mapMarkerMoved",a(A,(function(i){return a(A,(function(n){return se(w(i,n))}),a(es,1,Zi))}),a(es,0,Zi))),Zu=function(i){return{$:3,a:i}},Iu=function(i){return{$:17,a:i}},is=g((function(i,n){return{$:2,a:i,b:n}})),Ia=g((function(i,n){return{$:6,a:i,b:n}})),ns=function(i){return{$:6,a:i}},Bu=function(i){return{$:13,a:i}},$u=function(i){return{$:14,a:i}},rs=function(i){return{$:4,a:i}},Nu=function(i){return{$:1,a:i}},Du=function(i){return{$:2,a:i}},Ru=function(i){return{$:4,a:i}},Fu=E((function(i,n,s){return{$:4,a:i,b:n,c:s}})),ln=g((function(i,n){return n.$?y:i(n.a)})),Hu=g((function(i,n){return{ad:n,dG:i}})),Wu=rt((function(i,n,s,u){return{bb:u,bk:n,bv:i,cZ:s}})),os=eo,ju=D(os,Wu,a(G,"id",B),a(G,"email",B),a(G,"name",gt(B)),a(G,"avatar",gt(B))),as=T(Sr,Hu,a(G,"record",gt(ju)),a(G,"token",gt(B))),Ku=g((function(i,n){return hi(d([w("code",St(i)),w("state",St(a(Mt,"",n)))]))})),ss=function(i){return Vn({cn:i.cn,X:i.X,av:P,ax:"POST",aA:y,aC:y,dF:i.dF})},Uu=E((function(i,n,s){return ss({cn:Vo(a(Ku,i,n)),X:a(Dr,s,as),dF:v+"/api/oauth2-redirect"})})),dn=function(i){return i.b?N(i.a):y},Ba=function(i){switch(i.$){case 0:return"Bad URL: "+i.a;case 1:return"Request timed out";case 2:return"Network error";case 3:return"Bad status: "+It(i.a);default:return"Bad body: "+i.a}},qu=function(i){return hi(d([w("identity",St(i.bk)),w("password",St(i.df))]))},Gu=g((function(i,n){return ss({cn:Vo(qu(i)),X:a(Dr,n,as),dF:v+"/api/collections/users/auth-with-password"})})),Vu=g((function(i,n){return Vn({cn:Aa,X:Ja(n),av:d([a(f,"Authorization","Bearer "+i)]),ax:"POST",aA:y,aC:y,dF:v+"/api/collections/users/auth-refresh"})})),Nt=g((function(i,n){return n.$?y:N(i(n.a))})),Yu=function(i){return i.b},Xu=Xt("parseKMLContent",St),Ju=E((function(i,n,s){var u=(14-n)/12|0,h=i+4800-u;return s+((153*(n+12*u-3)+2)/5|0)+365*h+(h/4|0)-(h/100|0)+(h/400|0)-32045-2440588})),Qu=g((function(i,n){return 1>i?n:T(_e,0,-i,n)})),us=function(i){var n=a(oe,"T",i);if(n.b&&n.b.b&&!n.b.b.b){var s=n.a,u=a(Qu,1,n.b.a),h=a(oe,"-",s);if(h.b&&h.b.b&&h.b.b.b&&!h.b.b.b.b){var l=h.a,_=h.b,p=_.a,x=_.b.a,k=a(oe,":",u);if(k.b&&k.b.b&&k.b.b.b&&!k.b.b.b.b){var S=k.a,z=k.b,I=z.a,$=z.b.a,U=xe(l);if(U.$)return Kt(0);var V=U.a,W=xe(p);if(W.$)return Kt(0);var et=W.a,j=xe(x);if(j.$)return Kt(0);var dt=j.a,ut=xe(S);if(ut.$)return Kt(0);var Dt=ut.a,Rt=xe(I);if(Rt.$)return Kt(0);var ve=Rt.a,Di=xe($);if(Di.$)return Kt(0);var Ti=Di.a;return Kt(24*T(Ju,V,et,dt)*60*60*1e3+60*Dt*60*1e3+60*ve*1e3+1e3*Ti)}return Kt(0)}return Kt(0)}return Kt(0)},cs=function(i){return T(ze,g((function(n,s){return T(qn,n.a,n.b,s)})),vi,i)},tc=cs(d([w("LAT","Latvia"),w("EST","Estonia"),w("LIT","Lithuania"),w("FIN","Finland"),w("SWE","Sweden"),w("NOR","Norway"),w("DNK","Denmark")])),hs=function(i){return i+"T00:00:00.000Z"},fs=E((function(i,n,s){return i(n(s))})),ec=ee,ls=E((function(i,n,s){return i>0?T(ls,i>>1,ge(n,n),1&i?ge(s,n):s):s})),ic=g((function(i,n){return T(ls,i,n,"")})),Xo=E((function(i,n,s){return ge(a(ic,i-Zo(s),(function(u){return a(ec,u,"")})(n)),s)})),Rr=function(i){var n=i.cv,s=i.cY;return It(i.dK)+"-"+T(Xo,2,"0",It(s))+"-"+T(Xo,2,"0",It(n))},$a=cs(d([w("january",0),w("jan",0),w("february",1),w("feb",1),w("march",2),w("mar",2),w("april",3),w("apr",3),w("may",4),w("june",5),w("jun",5),w("july",6),w("jul",6),w("august",7),w("aug",7),w("september",8),w("sep",8),w("october",9),w("oct",9),w("november",10),w("nov",10),w("december",11),w("dec",11)])),ds=function(i){return!i},_s=function(i){return i.toLowerCase()},Jo=function(i){return i.trim()},nc=g((function(i,n){var s=_s(i);if(a(_i,"mid",s)){var u=a(Yn,a(fs,ds,jt),a(oe," ",s));if(u.b&&u.b.b){var h=a(Oi,I=u.b.a,$a);if(h.$)return{K:y,dt:y};var l=Rr({cv:15,cY:(et=h.a)+1,dK:n});return{K:N(l),dt:N(l)}}return{K:y,dt:y}}if(a(zr,"in ",s)){var _=dn(a(oe," ",Jo(a(oi,3,s))));if(_.$)return{K:y,dt:y};var p=a(Oi,I=_.a,$a);if(p.$)return{K:y,dt:y};var x=Rr({cv:1,cY:(et=p.a)+1,dK:n}),k=(function(){switch(et){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return 28;default:return 30}})(),S=Rr({cv:k,cY:et+1,dK:n});return{K:N(S),dt:N(x)}}var z=a(Yn,a(fs,ds,jt),a(oe," ",i));if(z.b&&z.b.b){var I=z.a,$=z.b,U=$.b,V=a(oe,"-",$.a),W=w(a(Oi,_s(I),$a),a(ln,xe,dn(V)));if(W.a.$||W.b.$)return{K:y,dt:y};var et,j=W.b.a,dt=(x=Rr({cv:j,cY:(et=W.a.a)+1,dK:n}),V.b&&V.b.b?a(Mt,j,xe(V.b.a)):U.b&&!U.b.b?a(Mt,j,xe(U.a)):j);return S=Rr({cv:dt,cY:et+1,dK:n}),{K:N(S),dt:N(x)}}return{K:y,dt:y}})),rc=function(i){var n,s=(function(p){var x=a(we,"(",p),k=a(we,")",p),S=w(dn(x),dn(k));if(S.a.$||S.b.$)return{as:y,au:y,dB:p};var z=S.a.a,I=S.b.a;if(0>At(z,I)){var $=Jo(a(We,z,p)),U=Jo(a(oi,I+1,p)),V=Jo(T(_e,z+1,I,p));return{as:jt(V)?y:N(V),au:jt(U)?y:N(U),dB:$}}return{as:y,au:y,dB:p}})(i.cZ),u=(function(){var p=s.as;if(p.$)return"";var x=p.a;return a(Mt,x,a(Oi,x,tc))})(),h=(n=s.au).$?{K:y,dt:y}:a(nc,n.a,2025),l=h.dt;if(l.$)return y;var _=l.a;return N({cc:!0,cu:"",cx:N(i.cx),K:a(Nt,hs,h.K),bv:"",cK:y,L:y,cT:jt(u)?y:N(u),ab:i.aI||i.aL?N({aI:i.aI,aL:i.aL}):y,dt:hs(_),D:0,dB:s.dB,dE:"",dF:y})},_n=On,oc=rt((function(i,n,s,u){return{cx:n,aI:s,aL:u,cZ:i}})),ac=D(os,oc,a(G,"name",B),a(G,"description",B),a(G,"lat",Zi),a(G,"lon",Zi)),sc=Xt("removeAuth",(function(){return Ge})),Xn=E((function(i,n,s){return s.$?i:n(s.a)})),ms=Xt("storeAuth",(function(i){return hi(d([w("token",(function(n){return T(Xn,Ge,St,n)})(i.ad)),w("user",(function(n){return T(Xn,Ge,(function(s){return hi(d([w("avatar",(function(u){return T(Xn,Ge,St,u)})(s.bb)),w("email",St(s.bk)),w("id",St(s.bv)),w("name",(function(u){return T(Xn,Ge,St,u)})(s.cZ))]))}),n)})(i.dG))]))})),uc=g((function(i,n){return i.$===1?n:n+":"+It(i.a)})),ps=E((function(i,n,s){return n.$===1?s:ge(s,ge(i,n.a))})),wi=qt,vs=function(i){return!(a(wi,4,i)||!a(wi,100,i)&&a(wi,400,i))},gs=function(i){switch(i){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;case 8:return 8;case 9:return 9;case 10:return 10;default:return 11}},cc=E((function(i,n,s){var u=i-1970;return 365*u+((u/4|0)-(u/100|0)+(u/400|0))+((function(h){switch(h){case 0:return 0;case 1:return 31;case 2:return 59;case 3:return 90;case 4:return 120;case 5:return 151;case 6:return 181;case 7:return 212;case 8:return 243;case 9:return 273;case 10:return 304;default:return 334}})(n)+(gs(n)>1&&vs(i)?1:0))+s-1})),Na=E((function(i,n,s){return Kt(24*T(cc,i,n,s)*60*60*1e3)})),ys=g((function(i,n){switch(n){case 1:return vs(i)?29:28;case 3:case 5:case 8:case 10:return 30;default:return 31}})),Da=g((function(i,n){return 0>At(i,n)?i:n})),Qo=g((function(i,n){return Cr(i/n)})),hc=E((function(i,n,s){for(;;){if(!s.b)return n+i;var u=s.a,h=s.b;if(0>At(u.a3,n))return n+u.c;s=h}})),Jn=g((function(i,n){var s=i.b;return T(hc,i.a,a(Qo,n,6e4),s)})),Ra=function(i){var n=a(Qo,i,1440)+719468,s=(0>n?n-146096:n)/146097|0,u=n-146097*s,h=(u-(u/1460|0)+(u/36524|0)-(u/146096|0))/365|0,l=u-(365*h+(h/4|0)-(h/100|0)),_=(5*l+2)/153|0,p=_+(10>_?3:-9);return{cv:l-((153*_+2)/5|0)+1,cY:p,dK:h+400*s+(p>2?0:1)}},Fa=g((function(i,n){return Ra(a(Jn,i,n)).cv})),Fr=g((function(i,n){switch(Ra(a(Jn,i,n)).cY){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;default:return 11}})),ta=g((function(i,n){return Ra(a(Jn,i,n)).dK})),Qt=a(g((function(i,n){return{$:0,a:i,b:n}})),0,P),bs=g((function(i,n){var s=a(ta,Qt,n),u=gs(a(Fr,Qt,n))+i,h=(function(p){switch(p){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;case 8:return 8;case 9:return 9;case 10:return 10;default:return 11}})(a(wi,12,u)),l=s+(u/12|0),_=a(ys,l,h);return T(Na,l,h,a(Da,a(Fa,Qt,n),_))})),Hr=g((function(i,n){switch(i.$){case 0:return H(n,{a7:i.a});case 1:return H(n,{E:i.a});case 2:return H(n,{F:i.a});case 3:return H(n,{F:a(at,s=i.a,n.F)});case 4:var s=i.a;return H(n,{F:a(kt,(function(u){return Tt(u.bv,s.bv)?s:u}),n.F)});case 5:return H(n,{E:a(bs,1,n.E)});default:return H(n,{E:a(bs,-1,n.E)})}})),fc=g((function(i,n){return{$:1,a:i,b:n}})),Ha=function(i){return!i.b},ws=function(i){return{cc:i.cc,cu:"",cx:N(i.cx),K:jt(i.K)?y:N(i.K),bv:"",cK:i.cK,L:jt(i.L)?y:N(i.L),cT:jt(i.cT)?y:N(i.cT),ab:i.ab,dt:i.dt,D:i.D,dB:i.dB,dE:"",dF:jt(i.dF)?y:N(i.dF)}},xs=E((function(i,n,s){return i?a(at,n,s):s})),Ls=function(i){return H(i,{P:T(xs,jt(i.dt),"Start date is required",T(xs,jt(i.dB),"Title is required",P))})},Wa=g((function(i,n){switch(i.$){case 0:return w(H(n,{dB:i.a}),y);case 1:return w(H(n,{dt:i.a}),y);case 2:return w(H(n,{K:i.a}),y);case 3:return w(H(n,{cc:i.a}),y);case 4:return w(H(n,{cT:i.a}),y);case 5:return w(H(n,{cx:i.a}),y);case 6:return w(H(n,{dF:i.a}),y);case 7:return w(H(n,{cK:N(i.a)}),y);case 8:return w(H(n,{L:i.a}),y);case 9:return w(H(n,{D:i.a}),y);case 10:return w(H(n,{ab:i.a}),y);case 11:var s=Ls(n);if(Ha(s.P)){var u=n.aN;if(u.$){var h=u.a;return w(H(s,{Q:!0}),N(a(fc,h,ws(s))))}return w(H(s,{Q:!0}),N({$:0,a:ws(s)}))}return w(s,y);case 12:return w(Ls(n),y);case 13:return w((function(l){return{cc:l.cc,cx:a(Mt,"",l.cx),K:a(Mt,"",l.K),P,cK:l.cK,L:a(Mt,"",l.L),Q:!1,cT:a(Mt,"",l.cT),aN:(_=l.bv,{$:1,a:_}),ab:l.ab,dt:l.dt,D:l.D,dB:l.dB,dF:a(Mt,"",l.dF)};var _})(i.a),y);default:return w(H(n,{Q:i.a}),y)}})),lc=function(i){return{$:7,a:i}},dc=function(i){return{$:6,a:i}},_c=g((function(i,n){return a(me,n,(function(s){return ke((function(u){(K=document.createElement("input")).type="file",K.accept=a(J,",",s),K.addEventListener("change",(function(h){u(Me(h.target.files[0]))})),(function(h){if(typeof MouseEvent=="function")h.dispatchEvent(new MouseEvent("click"));else{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.body.appendChild(h),h.dispatchEvent(l),document.body.removeChild(h)}})(K)}))})(i))})),mc=g((function(i,n){switch(i.$){case 0:case 1:case 4:default:return w(n,lt);case 2:return w(H(n,{t:i.a}),lt);case 3:return w(H(n,{ak:!n.ak}),lt);case 5:return w(n,a(_c,d(["application/vnd.google-earth.kml+xml",".kml"]),dc));case 6:var s=i.a;return w(H(n,{ak:!1}),a(me,lc,(function(u){return ke((function(h){var l=new FileReader;return l.addEventListener("loadend",(function(){h(Me(l.result))})),l.readAsText(u),function(){l.abort()}}))})(s)))}})),Ps=Ci,ea=g((function(i,n){return T(ze,(function(s){return g((function(u,h){return h.push(s(u)),h}))})(i),[],n)})),pc=Xt("initMap",(function(i){return hi(d([w("center",(function(n){var s=n.b;return a(ea,Jt,d([Be(n.a),Be(s)]))})(i.ag)),w("marker",(function(n){return T(Xn,Ge,(function(s){var u=s.b;return a(ea,Jt,d([Be(s.a),Be(u)]))}),n)})(i._)),w("zoom",Ps(i.ao))]))})),vc=Xt("updateMap",(function(i){return hi(d([w("center",(function(n){var s=n.b;return a(ea,Jt,d([Be(n.a),Be(s)]))})(i.ag)),w("marker",(function(n){return T(Xn,Ge,(function(s){var u=s.b;return a(ea,Jt,d([Be(s.a),Be(u)]))}),n)})(i._)),w("zoom",Ps(i.ao))]))})),Ts=g((function(i,n){switch(i.$){case 0:return w(n,pc({ag:n.ag,_:n._,ao:n.ao}));case 1:var s=i.a,u=i.b,h=i.c;return w(H(n,{ag:s,_:h,ao:u}),vc({ag:s,_:h,ao:u}));default:return w(H(n,{_:N(i.a)}),lt)}})),gc=g((function(i,n){switch(i.$){case 0:var s=i.a;return w(n,s.$?(function(mt){return a(me,Bo,ke((function(){try{zi.location=mt}catch{Ce.location.reload(!1)}})))})(s.a):a(_n,n.M,(function(mt){return T(ps,"#",mt.bo,T(ps,"?",mt.di,ge(a(uc,mt.bK,ge(mt.bO?"https://":"http://",mt.bu)),mt.bI)))})(u=s.a)));case 1:var u,h=t(u=i.a),l=H(n,{a1:h,dF:u});switch(h.$){case 3:return w(H(l,{x:$o}),lt);case 5:var _=h.a,p=dn(a(Yn,(function(mt){return Tt(mt.bv,_)}),n.F.F));return w(p.$?l:H(l,{x:z=a(Wa,{$:13,a:p.a},n.x).a}),lt);case 6:var x=(function(mt){var rr=a(Yo,(function(Mi){return Mi.b&&Mi.b.b&&!Mi.b.b.b?N(w(Mi.a,Mi.b.a)):y}),a(kt,oe("="),a(oe,"&",mt))),or=function(Mi){return a(Nt,Yu,dn(a(Yn,(function(Wh){return Tt(Wh.a,Mi)}),rr)))},Gr=or("state"),Hh=or("code");return a(Nt,(function(Mi){return w(Mi,Gr)}),Hh)})(a(Mt,"",u.di));if(x.$)return w(l,lt);var k=x.a;return w(l,T(Uu,k.a,k.b,Iu));default:return w(l,lt)}case 2:return w(H(n,{A:a(Hr,i.a,n.A)}),lt);case 3:var S=i.a,z=(function(){switch(S.$){case 3:case 5:return a(Wa,(function(mt){return{$:14,a:mt}})(!1),n.x).a;default:return n.x}})(),I=(function(){t:for(;;)switch(S.$){case 1:if(S.a.$)break t;return a(Hr,Du(S.a.a),n.A);case 3:if(S.a.$)break t;return a(Hr,Zu(S.a.a),n.A);case 5:if(S.a.$)break t;return a(Hr,Ru(S.a.a),n.A);default:break t}return n.A})(),$=(function(){t:for(;;)switch(S.$){case 7:if(S.b.$)break t;return a(_n,n.M,"/");case 3:case 5:if(S.a.$)break t;return a(_n,n.M,"/");default:break t}return lt})(),U=S.$!==1&&n.Q,V=a(ts,S,n.F),W=V.a,et=V.b;return w(H(n,{A:I,W:W.W,x:z,F:W,Q:U}),Za(d([a(jn,Ke,et),$])));case 4:var j=a(Ts,i.a,n.aj),dt=j.b;return w(H(n,{aj:j.a}),a(jn,rs,dt));case 5:var ut=a(Wa,i.a,n.x),Dt=(z=ut.a,ut.b),Rt=(function(){if(Dt.$)return lt;if(Dt.a.$){var mt=Dt.a,rr=mt.a;return or=mt.b,a(me,Jt,Lt(Ke(T(Fu,a(ln,(function(Gr){return Gr.ad}),n.m),rr,or))))}var or=Dt.a.a;return a(me,Jt,Lt(Ke(a(is,a(ln,(function(Gr){return Gr.ad}),n.m),or))))})();return w(H(n,{x:z}),Rt);case 6:var ve=i.a;switch(ve.$){case 1:return _=ve.a,w(n,a(me,Jt,Lt(Ke(a(Ia,a(ln,(function(mt){return mt.ad}),n.m),_)))));case 0:return w(n,a(_n,n.M,"/events/"+(_=ve.a)+"/edit"));case 7:return w(n,Xu(ve.a));default:var Di=a(mc,ve,n.aF);return Rt=Di.b,w(H(n,{aF:Di.a}),a(jn,ns,Rt))}case 7:var Ti=i.a;switch(Ti.$){case 0:return w(n,a(_n,n.M,"/events/"+(_=Ti.a)+"/edit"));case 1:return _=Ti.a,w(n,a(me,Jt,Lt(Ke(a(Ia,a(ln,(function(mt){return mt.ad}),n.m),_)))));default:return w(n,a(_n,n.M,"/events"))}case 21:var er=i.a,pn=a(gi,Qa(ac),er);return w(n,pn.$?lt:Za(a(kt,(function(mt){return a(me,Jt,Lt(Ke(a(is,a(ln,(function(rr){return rr.ad}),n.m),mt))))}),a(Yo,rc,pn.a))));case 8:return w(H(n,{m:N(nr=i.a)}),lt);case 9:return w(H(n,{m:y}),lt);case 10:var ir=a(Ts,(function(mt){return{$:2,a:mt}})(i.a),n.aj);return w(H(n,{aj:ir.a}),lt);case 11:var Rh={bk:n.aJ,df:n.aK};return w(H(n,{W:y,Q:!0}),a(Gu,Rh,Bu));case 12:var js=n.m;if(js.$)return w(n,lt);var Ks=(nr=js.a).ad;return w(n,Ks.$?lt:a(Vu,Ks.a,$u));case 13:return(Ri=i.a).$?w(H(n,{W:N(Ba(Ri.a)),Q:!1}),lt):w(H(n,{m:N(nr=Ri.a),W:y,Q:!1}),ms(nr));case 14:return(Ri=i.a).$?w(H(n,{W:N(Ba(Ri.a)),Q:!1}),lt):w(H(n,{m:y,W:y,Q:!1}),sc(0));case 17:var Ri,nr;return(Ri=i.a).$?w(H(n,{W:N(Ba(Ri.a)),Q:!1}),lt):w(H(n,{m:N(nr=Ri.a),W:y,Q:!1}),ms(nr));case 15:return w(H(n,{aJ:i.a}),lt);case 16:return w(H(n,{aK:i.a}),lt);case 18:var Us=i.a,Fh=us(Us+"T00:00:00Z");return w(H(n,{A:a(Hr,Nu(Fh),n.A),aS:Us}),lt);case 19:return _=i.a,w(n,a(me,Jt,Lt(Ke(a(Ia,a(ln,(function(mt){return mt.ad}),n.m),_)))));default:return w(n,a(_n,n.M,"/events/create"))}})),yc=function(i){return{$:2,a:i}},bc=function(i){return{$:7,a:i}},Ms=function(i){return{$:5,a:i}},wc={$:20},xc={$:11},Lc={$:12},ks=function(i){return{$:18,a:i}},Pc=function(i){return{$:15,a:i}},Tc=function(i){return{$:16,a:i}},xi=ht("a"),Ut=ht("button"),te=g((function(i,n){return a(po,i,St(n))})),Z=te("className"),F=ht("div"),Wr=ht("h1"),Mc=ht("header"),Li=function(i){return a(te,"href",ya.test(n=i)?"":n);var n},kc=ht("main"),Qn=pa,Cs=ht("nav"),Ss=va,jr=g((function(i,n){return a(Ss,i,{$:0,a:n})})),zt=function(i){return a(jr,"click",se(i))},Pi=ht("p"),Es=mo,O=Tn,Cc=te("title"),Ve=g((function(i,n){return a(Yi,(function(s){return ga.test(s)?"data-"+s:s})(i),vo(n))})),Kr=g((function(i,n){return a(po,i,Ct(n))})),Ii=Kr("disabled"),pe=te("type"),zs=function(i){var n,s,u=(function(){switch(i.dI){case 0:return"btn-primary";case 1:return"btn-secondary";default:return"btn-icon"}})(),h=(function(){switch(i.ds){case 0:return"btn-sm";case 1:return"btn-md";default:return"btn-lg"}})(),l=ge(d([Z("btn "+u+" "+h+" "+(i.bi?"disabled":"")),pe(i.dC),Ii(i.bi)]),ge((s=i.ci).$?P:d([a(Ve,"aria-label",s.a)]),(n=i.c8).$?P:d([zt(n.a)])));return a(Ut,l,i.cr)},Sc={$:5},Ec={$:6},zc=Re,Os=g((function(i,n){var s=n+zc(24*i*60*60*1e3);return Kt(s)})),As=g((function(i,n){switch(a(wi,7,a(Qo,a(Jn,i,n),1440))){case 0:return 3;case 1:return 4;case 2:return 5;case 3:return 6;case 4:return 0;case 5:return 1;default:return 2}})),Zs=function(i){switch(i){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;default:return 0}},Oc=g((function(i,n){var s=Zs(a(As,Qt,i)),u=a(wi,7,n-s+6);return a(Os,u===6?6:u,i)})),Ac=g((function(i,n){return T(Na,i,n,1)})),Zc=rt((function(i,n,s,u){for(;;){if(At(i,n)>0)return u;var h=Kt(i),l=Tt(a(Fr,Qt,h),s);i+=864e5,u=a(at,{aV:h,F:P,aY:l},u)}})),Ic=E((function(i,n,s){return Ae(Ht(Zc,i,n,s,P))})),Bc=g((function(i,n){return T(Na,i,n,a(ys,i,n))})),$c=g((function(i,n){var s=Zs(a(As,Qt,i)),u=a(wi,7,s-n+7);return a(Os,-(u||0),i)})),Is=g((function(i,n){t:for(;;){if(i>0){if(n.b){i-=1,n=n.b;continue t}return n}return n}})),Nc=E((function(i,n,s){t:for(;;){if(i>0){if(n.b){var u=n.a;i-=1,n=n.b,s=a(at,u,s);continue t}return s}return s}})),Dc=g((function(i,n){return Ae(T(Nc,i,n,P))})),Bs=E((function(i,n,s){if(n>0){var u=w(n,s);t:for(;;){e:for(;;){if(!u.b.b)return s;if(!u.b.b.b){if(u.a===1)break t;break e}switch(u.a){case 1:break t;case 2:var h=u.b;return d([h.a,h.b.a]);case 3:if(u.b.b.b.b){var l=u.b,_=l.b;return d([l.a,_.a,_.b.a])}break e;default:if(u.b.b.b.b&&u.b.b.b.b.b){var p=u.b,x=p.b,k=x.b,S=k.b,z=S.a,I=S.b;return a(at,p.a,a(at,x.a,a(at,k.a,a(at,z,i>1e3?a(Dc,n-4,I):T(Bs,i+1,n-4,I)))))}break e}}return s}return d([u.b.a])}return P})),$s=g((function(i,n){return T(Bs,0,i,n)})),Ns=function(i){return i.b?a(at,a($s,7,i),Ns(a(Is,7,i))):P},Rc=ht("h2"),Fc=function(i){return a(F,d([Z("calendar-event")]),d([O(i.dB)]))},Hc=function(i){return a(F,d([Z(i.aY?"calendar-day current-month":"calendar-day other-month")]),d([a(F,d([Z("calendar-day-number")]),d([O(It(a(Fa,Qt,i.aV)))])),a(F,d([Z("calendar-day-events")]),a(kt,Fc,i.F))]))},Wc=function(i){return a(F,d([Z("calendar-week")]),a(kt,Hc,i))},jc=function(i){switch(i){case 0:return"Mon";case 1:return"Tue";case 2:return"Wed";case 3:return"Thu";case 4:return"Fri";case 5:return"Sat";default:return"Sun"}},Kc=function(i){var n=(function(s){switch(s){case 0:return 6;case 1:default:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5}})(i);return a(F,d([Z("calendar-weekday")]),d([O(jc(n))]))},Uc=function(i){var n,s,u=(function(l){var _=a(ta,Qt,l.E),p=a(Fr,Qt,l.E),x=a(Bc,_,p);return T(Ic,a($c,a(Ac,_,p),l.aH),a(Oc,x,l.aH),p)})(i),h=Ns(u);return a(F,d([Z("calendar")]),d([a(F,d([Z("calendar-header")]),d([a(Ut,d([zt(Ec)]),d([O("<")])),a(Rc,P,d([O((n=i.E,s=a(ta,Qt,n),(function(l){switch(l){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";default:return"December"}})(a(Fr,Qt,n))+" "+It(s)))])),a(Ut,d([zt(Sc)]),d([O(">")]))])),a(F,d([Z("calendar-grid")]),Zr(d([d([a(F,d([Z("calendar-week-header")]),a(kt,Kc,a(Lo,0,6)))]),a(kt,Wc,h)])))]))},qc={$:2},Gc=function(i){return{$:1,a:i}},Vc=g((function(i,n){return a(wi,24,a(Qo,a(Jn,i,n),60))})),Yc=g((function(i,n){return a(wi,60,a(Jn,i,n))})),Xc=g((function(i,n){var s=us(i),u=Kt(s+72e5),h=a(Fr,Qt,u),l=a(ta,Qt,u),_=It(a(Fa,Qt,u))+"."+It((function(x){switch(x){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 11;default:return 12}})(h))+"."+It(l);if(n)return _;var p=a(Yc,Qt,u);return _+" "+T(Xo,2,"0",It(a(Vc,Qt,u)))+":"+T(Xo,2,"0",It(p))})),Jc=ht("img"),ja=ht("strong"),Qc=te("target"),th=g((function(i,n){return a(F,d([Z("container mx-auto p-4")]),d([a(F,d([Z("flex justify-between items-start mb-6")]),d([a(Wr,d([Z("text-2xl font-bold")]),d([O(i.dB)])),n.$?O(""):a(F,d([Z("flex gap-2")]),d([a(Ut,d([zt((h=i.bv,{$:0,a:h})),Z("btn btn-secondary")]),d([O("Edit")])),a(Ut,d([zt(Gc(i.bv)),Z("btn btn-danger")]),d([O("Delete")]))]))])),(u=i.cK,u.$?O(""):a(Jc,d([(s="https://data.suomenpalikkayhteiso.fi/api/files/events/"+i.bv+"/"+u.a,a(te,"src",vo(s))),Z("w-full rounded-lg mb-6")]),P)),a(Pi,d([Z("mb-4 whitespace-pre-wrap")]),d([O(a(Mt,"",i.cx))])),a(F,d([Z("grid gap-2")]),d([a(Pi,P,d([a(ja,P,d([O("Start: ")])),O(a(Xc,i.dt,i.cc))])),a(Pi,P,d([a(ja,P,d([O("Location: ")])),O(a(Mt,"",i.cT))])),(function(){var l=i.dF;if(l.$)return O("");var _=l.a;return a(Pi,P,d([a(ja,P,d([O("URL: ")])),a(xi,d([Li(_),Qc("_blank")]),d([O(_)]))]))})()])),a(Ut,d([zt(qc),Z("mt-8 inline-block text-blue-600 underline bg-transparent border-0 cursor-pointer")]),d([O("Back to Calendar")]))]));var s,u,h})),eh=function(i){return{$:3,a:i}},ih=function(i){return{$:5,a:i}},nh=function(i){return{$:2,a:i}},rh=function(i){return{$:7,a:i}},oh=function(i){return{$:8,a:i}},ah=function(i){return{$:4,a:i}},sh=function(i){return{$:1,a:i}},ia=function(i){return{$:9,a:i}},uh=function(i){return{$:0,a:i}},ch=function(i){return{$:6,a:i}},hh={$:11},fh={$:12},Ur=Kr("checked"),Bi=te("htmlFor"),Ye=te("id"),$e=ht("input"),Te=ht("label"),lh=ht("li"),qr=te("name"),Ds=g((function(i,n){return T(ai,G,n,i)})),dh=a(Ds,d(["target","checked"]),M),_h=function(i){return w(i,!0)},mh=g((function(i,n){return a(Ss,i,{$:1,a:n})})),Rs=a(Ds,d(["target","value"]),B),$i=function(i){return a(mh,"input",a(Ot,_h,a(Ot,i,Rs)))},mn=te("placeholder"),ph=ht("textarea"),vh=ht("ul"),Ni=te("value"),Fs=function(i){return a(F,d([Z("mb-4")]),d([a(Te,d([Z("mb-2 block font-medium text-gray-700"),Bi(i.bv)]),d([O(i.cQ)])),a($e,d([pe("datetime-local"),Ye(i.bv),Ni(i.dH),Ii(i.bi),$i(i.c7),Z("form-input")]),P)]))},Hs=function(i){return a(F,P,d([a(F,P,d([a(Te,d([Bi("title")]),d([O("Title")])),a($e,d([pe("text"),Ye("title"),Ni(i.dB),$i(uh),mn("Event title")]),P)])),Fs({cc:i.cc,bi:!1,bv:"startDate",cQ:"Start Date",c7:sh,dH:i.dt}),Fs({cc:i.cc,bi:!1,bv:"endDate",cQ:"End Date",c7:nh,dH:i.K}),a(F,P,d([a(Te,d([Bi("allDay")]),d([O("All Day")])),a($e,d([pe("checkbox"),Ye("allDay"),Ur(i.cc),(n=eh,a(jr,"change",a(Ot,n,dh)))]),P)])),a(F,P,d([a(Te,d([Bi("location")]),d([O("Location")])),a($e,d([pe("text"),Ye("location"),Ni(i.cT),$i(ah),mn("Event location")]),P)])),a(F,P,d([a(Te,d([Bi("description")]),d([O("Description")])),a(ph,d([Ye("description"),Ni(i.cx),$i(ih),mn("Event description")]),P)])),a(F,P,d([a(Te,d([Bi("url")]),d([O("URL")])),a($e,d([pe("url"),Ye("url"),Ni(i.dF),$i(ch),mn("Event URL")]),P)])),a(F,P,d([a(Te,d([Bi("image")]),d([O("Image URL")])),a($e,d([pe("url"),Ye("image"),Ni(a(Mt,"",i.cK)),$i(rh),mn("Image URL")]),P)])),a(F,P,d([a(Te,d([Bi("imageDescription")]),d([O("Image Description")])),a($e,d([pe("text"),Ye("imageDescription"),Ni(i.L),$i(oh),mn("Image description")]),P)])),a(F,P,d([a(Te,P,d([O("State")])),a(F,P,d([a(Te,P,d([a($e,d([pe("radio"),qr("state"),Ur(!i.D),zt(ia(0))]),P),O("Draft")])),a(Te,P,d([a($e,d([pe("radio"),qr("state"),Ur(i.D===1),zt(ia(1))]),P),O("Pending")])),a(Te,P,d([a($e,d([pe("radio"),qr("state"),Ur(i.D===2),zt(ia(2))]),P),O("Published")])),a(Te,P,d([a($e,d([pe("radio"),qr("state"),Ur(i.D===3),zt(ia(3))]),P),O("Deleted")]))]))])),Ha(i.P)?O(""):a(vh,P,a(kt,(function(s){return a(lh,P,d([O(s)]))}),i.P)),a(Ut,d([zt(hh),Ii(!Ha(i.P)||i.Q)]),d([O(i.Q?"Submitting...":"Submit")])),a(Ut,d([zt(fh)]),d([O("Validate")]))]));var n},Ka={$:3},gh=E((function(i,n,s){return a($s,n,a(Is,(i-1)*n,s))})),yh=ht("table"),bh=ht("tbody"),na=ht("th"),wh=ht("thead"),Ws=ht("tr"),tr=ht("span"),xh=function(i){switch(i){case 0:return"Draft";case 1:return"Pending";case 2:return"Published";default:return"Deleted"}},Lh=function(i){switch(i){case 0:return"bg-gray-100 text-gray-800";case 1:return"bg-yellow-100 text-yellow-800";case 2:return"bg-green-100 text-green-800";default:return"bg-red-100 text-red-800"}},ra=ht("td"),Ph=function(i){return a(Ws,P,d([a(ra,d([Z("px-6 py-4 whitespace-nowrap")]),d([a(F,d([Z("text-sm font-medium text-gray-900")]),d([O(i.dB)])),a(F,d([Z("text-sm text-gray-500")]),d([O(a(Mt,"",i.cT))]))])),a(ra,d([Z("px-6 py-4 whitespace-nowrap text-sm text-gray-500")]),d([O(i.dt)])),a(ra,d([Z("px-6 py-4 whitespace-nowrap")]),d([a(tr,d([Z("px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+Lh(i.D))]),d([O(xh(i.D))]))])),a(ra,d([Z("px-6 py-4 whitespace-nowrap text-right text-sm font-medium")]),d([a(xi,d([Li("/events/"+i.bv+"/edit"),Z("text-indigo-600 hover:text-indigo-900 mr-4")]),d([O("Edit")])),a(Ut,d([zt((n=i.bv,{$:1,a:n})),Z("text-red-600 hover:text-red-900")]),d([O("Delete")]))]))]));var n},Th=ht("h3"),Mh=a(F,d([Z("fixed inset-0 z-50 overflow-y-auto"),a(Ve,"aria-labelledby","modal-title"),a(Ve,"role","dialog"),a(Ve,"aria-modal","true")]),d([a(F,d([Z("flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0")]),d([a(F,d([Z("fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"),a(Ve,"aria-hidden","true"),zt(Ka)]),P),a(tr,d([Z("hidden sm:inline-block sm:align-middle sm:h-screen"),a(Ve,"aria-hidden","true")]),d([O("")])),a(F,d([Z("inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full")]),d([a(F,d([Z("bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4")]),d([a(F,d([Z("sm:flex sm:items-start")]),d([a(F,d([Z("mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full")]),d([a(Th,d([Z("text-lg leading-6 font-medium text-gray-900"),Ye("modal-title")]),d([O("Import KML")])),a(F,d([Z("mt-2")]),d([a(Pi,d([Z("text-sm text-gray-500 mb-4")]),d([O("Select a .kml file to import events.")])),a(F,d([Z("flex justify-center")]),d([a(Ut,d([Z("bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"),zt({$:5})]),d([O("Select File...")]))]))]))]))]))])),a(F,d([Z("bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse")]),d([a(Ut,d([pe("button"),Z("mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"),zt(Ka)]),d([O("Cancel")]))]))]))]))])),oa=function(i){return{$:2,a:i}},kh=g((function(i,n){var s=Nn(n/i.aO);return s>1?a(F,d([Z("bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6")]),d([a(F,d([Z("flex-1 flex justify-between sm:hidden")]),d([a(Ut,d([zt(oa(a(He,1,i.t-1))),Ii(i.t===1),Z("relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50")]),d([O("Previous")])),a(Ut,d([zt(oa(a(Da,s,i.t+1))),Ii(Tt(i.t,s)),Z("ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50")]),d([O("Next")]))])),a(F,d([Z("hidden sm:flex-1 sm:flex sm:items-center sm:justify-between")]),d([a(F,P,d([a(Pi,d([Z("text-sm text-gray-700")]),d([O("Showing page "),a(tr,d([Z("font-medium")]),d([O(It(i.t))])),O(" of "),a(tr,d([Z("font-medium")]),d([O(It(s))]))]))])),a(F,P,d([a(Cs,d([Z("relative z-0 inline-flex rounded-md shadow-sm -space-x-px"),a(Ve,"aria-label","Pagination")]),d([a(Ut,d([zt(oa(a(He,1,i.t-1))),Ii(i.t===1),Z("relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50")]),d([a(tr,d([Z("sr-only")]),d([O("Previous")])),O("<")])),a(Ut,d([zt(oa(a(Da,s,i.t+1))),Ii(Tt(i.t,s)),Z("relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50")]),d([a(tr,d([Z("sr-only")]),d([O("Next")])),O(">")]))]))]))]))])):O("")})),Ch=g((function(i,n){return a(F,d([Z("container mx-auto p-4")]),d([a(F,d([Z("flex justify-between items-center mb-6")]),d([a(Wr,d([Z("text-2xl font-bold")]),d([O("Events")])),a(F,d([Z("flex gap-2")]),d([a(Ut,d([Z("bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"),zt(Ka)]),d([O("Import KML")])),a(xi,d([Z("bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 block"),Li("/events/create")]),d([O("Add Event")]))]))])),i.ak?Mh:O(""),a(F,d([Z("bg-white shadow-md rounded-lg overflow-hidden")]),d([a(yh,d([Z("min-w-full divide-y divide-gray-200")]),d([a(wh,d([Z("bg-gray-50")]),d([a(Ws,P,d([a(na,d([Z("px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider")]),d([O("Title")])),a(na,d([Z("px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider")]),d([O("Date")])),a(na,d([Z("px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider")]),d([O("Status")])),a(na,d([Z("px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider")]),d([O("Actions")]))]))])),a(bh,d([Z("bg-white divide-y divide-gray-200")]),a(kt,Ph,T(gh,i.t,i.aO,n)))])),a(kh,i,In(n))]))]))})),Sh=te("accept"),Eh=Kr("autofocus"),zh=te("max"),Oh=te("min"),Ah=function(i){return a(jr,"blur",se(i))},Zh=function(i){return a(jr,"focus",se(i))},Ih=te("pattern"),Bh=Kr("readOnly"),$h=Kr("required"),Nh=function(i){return a(te,"step",i)},aa=function(i){var n,s="form-input",u=(n=i.cs).$?s:s+" "+n.a,h=ge(d([pe(i.dC),Ni(i.dH),Z(u),$h(i.dn),Ii(i.bi),Bh(i.dj),Eh(i.ck),a(Ve,"aria-invalid",i.ch?"true":"false"),a(Ve,"aria-required",i.cj?"true":"false")]),a(Yo,Jt,d([a(Nt,mn,i.dh),a(Nt,(function(l){return a(Ve,"aria-label",l)}),i.ci),a(Nt,(function(l){return a(Ve,"aria-describedby",l)}),i.cg),a(Nt,Ye,i.bv),a(Nt,qr,i.cZ),a(Nt,Ih,i.dg),a(Nt,Oh,i.cV),a(Nt,zh,i.cU),a(Nt,Nh,i.dx),a(Nt,Sh,i.ca),a(Nt,$i,i.da),a(Nt,(function(l){return a(jr,"change",a(Ot,l,Rs))}),i.c7),a(Nt,Ah,i.c6),a(Nt,Zh,i.c9)])));return a($e,h,P)},Dh=(function(i){var n=i.db,s=i.dc,u=function(){u.a(n(en()))};return tn({a2:function(h){return u.a=h,zi.addEventListener("popstate",u),0>zi.navigator.userAgent.indexOf("Trident")||zi.addEventListener("hashchange",u),g((function(l,_){if(!(_.ctrlKey||_.metaKey||_.shiftKey||_.button>=1||l.target||l.hasAttribute("download"))){_.preventDefault();var p=l.href,x=en(),k=Dn(p).a;h(s(k&&x.bO===k.bO&&x.bu===k.bu&&x.bK.a===k.bK.a?(function(S){return{$:0,a:S}})(k):(function(S){return{$:1,a:S}})(p)))}}))},cO:function(h){return T(i.cO,h,en(),u)},a7:i.a7,dD:i.dD,dy:i.dy})})({cO:Lu,db:function(i){return{$:1,a:i}},dc:function(i){return{$:0,a:i}},dy:function(){return zu(d([Eu(Tu),Su(Cu(Pu)),Au(ku),Ou(Mu)]))},dD:gc,a7:function(i){return{cn:d([a(F,P,d([a(Mc,P,d([a(Cs,P,d([a(xi,d([Li("/")]),d([O("Home")])),O(" | "),a(xi,d([Li("/map")]),d([O("Map")])),O(" | "),Tt(i.m,y)?O(""):a(xi,d([Li("/events")]),d([O("Events")])),O(" | "),a(xi,d([Li("/callback")]),d([O("Callback")]))])),a(F,P,d([(n=i.m,a(F,P,d(n.$?[aa({ca:y,cg:y,ch:!1,ci:y,cj:!1,ck:!1,cs:y,bi:!1,bv:y,cU:y,cV:y,cZ:y,c6:y,c7:y,c9:y,da:N(Pc),dg:y,dh:N("Email"),dj:!1,dn:!1,dx:y,dC:"email",dH:i.aJ}),aa({ca:y,cg:y,ch:!1,ci:y,cj:!1,ck:!1,cs:y,bi:!1,bv:y,cU:y,cV:y,cZ:y,c6:y,c7:y,c9:y,da:N(Tc),dg:y,dh:N("Password"),dj:!1,dn:!1,dx:y,dC:"password",dH:i.aK}),zs({ci:y,cr:d([O("Login")]),bi:!1,c8:N(xc),ds:1,dC:"button",dI:0})]:[O("Logged in as: "+a(Mt,"Unknown",a(Nt,(function(s){return s.bk}),n.a.dG))),zs({ci:y,cr:d([O("Logout")]),bi:!1,c8:N(Lc),ds:1,dC:"button",dI:1})])))])),(function(){var s=i.W;if(s.$)return O("");var u=s.a;return a(F,d([a(Es,"color","red")]),d([O(u)]))})()])),a(kc,P,d([(function(){if(i.Q)return a(F,P,d([O("Loading...")]));var s=i.a1;switch(s.$){case 0:return a(F,P,d([i.m.$?a(F,d([Z("mb-4")]),d([a(Pi,P,d([O("Non-members can send events to "),a(xi,d([Li("mailto:suomenpalikkayhteisory@outlook.com")]),d([O("email")])),O(".")])),aa({ca:y,cg:y,ch:!1,ci:N("Select Date"),cj:!1,ck:!1,cs:y,bi:!1,bv:N("calendar-date"),cU:y,cV:y,cZ:y,c6:y,c7:y,c9:y,da:N(ks),dg:y,dh:y,dj:!1,dn:!1,dx:y,dC:"date",dH:i.aS})])):a(F,d([Z("mb-4 flex items-end gap-4")]),d([a(F,d([Z("flex-1")]),d([aa({ca:y,cg:y,ch:!1,ci:N("Select Date"),cj:!1,ck:!1,cs:y,bi:!1,bv:N("calendar-date"),cU:y,cV:y,cZ:y,c6:y,c7:y,c9:y,da:N(ks),dg:y,dh:y,dj:!1,dn:!1,dx:y,dC:"date",dH:i.aS})])),a(Ut,d([Z("btn-icon"),zt(wc),Cc("Add new event")]),d([O("+")]))])),a(Qn,yc,Uc(i.A))]));case 2:return a(Qn,rs,a(F,d([Ye("map"),a(Es,"height","400px")]),P));case 1:return a(Qn,ns,a(Ch,i.aF,i.F.F));case 4:var u=s.a,h=dn(a(Yn,(function(l){return Tt(l.bv,u)}),i.F.F));return h.$?a(Wr,P,d([O("Event not found: "+u)])):a(Qn,bc,a(th,h.a,i.m));case 5:return u=s.a,a(Qn,Ms,Hs(i.x));case 3:return a(Qn,Ms,Hs(i.x));case 6:return a(F,P,d([a(Wr,P,d([O("Authentication Callback")])),a(Pi,P,d([O("Processing authentication...")]))]));default:return a(F,P,d([a(Wr,P,d([O("404 - Page Not Found")])),a(Pi,P,d([O("The page you are looking for does not exist.")])),a(xi,d([Li("/")]),d([O("Go Home")]))]))}})()]))]))]),dB:"Event Calendar"};var n}});Oa={Main:{init:Dh(se(0))(0)}},Ft.Elm?(function i(n,s){for(var u in s)u in n?u=="init"?De(6):i(n[u],s[u]):n[u]=s[u]})(Ft.Elm,Oa):Ft.Elm=Oa})(this),(Ft=>{const C=["Main"];let g=[...C],E=Ft;for(;g.length>0;){let rt=g.shift();E=E[rt]}return E.__elmModulePath=C,E})(this.Elm)}}.run();function Kh(_t){return _t&&_t.__esModule&&Object.prototype.hasOwnProperty.call(_t,"default")?_t.default:_t}var Vr={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Uh=Vr.exports,qs;function qh(){return qs||(qs=1,(function(_t,Ft){(function(C,g){g(Ft)})(Uh,(function(C){var g="1.9.4";function E(t){var e,r,o,c;for(r=1,o=arguments.length;r<o;r++){c=arguments[r];for(e in c)t[e]=c[e]}return t}var rt=Object.create||(function(){function t(){}return function(e){return t.prototype=e,new t}})();function it(t,e){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var o=r.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(r.call(arguments)):arguments)}}var a=0;function T(t){return"_leaflet_id"in t||(t._leaflet_id=++a),t._leaflet_id}function Ht(t,e,r){var o,c,f,m;return m=function(){o=!1,c&&(f.apply(r,c),c=!1)},f=function(){o?c=arguments:(t.apply(r,arguments),setTimeout(m,e),o=!0)},f}function D(t,e,r){var o=e[1],c=e[0],f=o-c;return t===o&&r?t:((t-c)%f+f)%f+c}function ct(){return!1}function Tt(t,e){if(e===!1)return t;var r=Math.pow(10,e===void 0?6:e);return Math.round(t*r)/r}function Fi(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function At(t){return Fi(t).split(/\s+/)}function pt(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?rt(t.options):{});for(var r in e)t.options[r]=e[r];return t.options}function w(t,e,r){var o=[];for(var c in t)o.push(encodeURIComponent(r?c.toUpperCase():c)+"="+encodeURIComponent(t[c]));return(!e||e.indexOf("?")===-1?"?":"&")+o.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function ge(t,e){return t.replace(H,function(r,o){var c=e[o];if(c===void 0)throw new Error("No value provided for variable "+r);return typeof c=="function"&&(c=c(e)),c})}var P=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function ue(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1}var gn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function d(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Yr=0;function Xr(t){var e=+new Date,r=Math.max(0,16-(e-Yr));return Yr=e+r,window.setTimeout(t,r)}var ar=window.requestAnimationFrame||d("RequestAnimationFrame")||Xr,De=window.cancelAnimationFrame||d("CancelAnimationFrame")||d("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function qt(t,e,r){if(r&&ar===Xr)t.call(e);else return ar.call(window,it(t,e))}function ce(t){t&&De.call(window,t)}var ua={__proto__:null,extend:E,create:rt,bind:it,get lastId(){return a},stamp:T,throttle:Ht,wrapNum:D,falseFn:ct,formatNum:Tt,trim:Fi,splitWords:At,setOptions:pt,getParamString:w,template:ge,isArray:P,indexOf:ue,emptyImageUrl:gn,requestFn:ar,cancelFn:De,requestAnimFrame:qt,cancelAnimFrame:ce};function Re(){}Re.extend=function(t){var e=function(){pt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,o=rt(r);o.constructor=e,e.prototype=o;for(var c in this)Object.prototype.hasOwnProperty.call(this,c)&&c!=="prototype"&&c!=="__super__"&&(e[c]=this[c]);return t.statics&&E(e,t.statics),t.includes&&(Jr(t.includes),E.apply(null,[o].concat(t.includes))),E(o,t),delete o.statics,delete o.includes,o.options&&(o.options=r.options?rt(r.options):{},E(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var f=0,m=o._initHooks.length;f<m;f++)o._initHooks[f].call(this)}},e},Re.include=function(t){var e=this.prototype.options;return E(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},Re.mergeOptions=function(t){return E(this.prototype.options,t),this},Re.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),r=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function Jr(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=P(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ee={on:function(t,e,r){if(typeof t=="object")for(var o in t)this._on(o,t[o],e);else{t=At(t);for(var c=0,f=t.length;c<f;c++)this._on(t[c],e,r)}return this},off:function(t,e,r){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var o in t)this._off(o,t[o],e);else{t=At(t);for(var c=arguments.length===1,f=0,m=t.length;f<m;f++)c?this._off(t[f]):this._off(t[f],e,r)}return this},_on:function(t,e,r,o){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,r)===!1){r===this&&(r=void 0);var c={fn:e,ctx:r};o&&(c.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(c)}},_off:function(t,e,r){var o,c,f;if(this._events&&(o=this._events[t],!!o)){if(arguments.length===1){if(this._firingCount)for(c=0,f=o.length;c<f;c++)o[c].fn=ct;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var m=this._listens(t,e,r);if(m!==!1){var v=o[m];this._firingCount&&(v.fn=ct,this._events[t]=o=o.slice()),o.splice(m,1)}}},fire:function(t,e,r){if(!this.listens(t,r))return this;var o=E({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var c=this._events[t];if(c){this._firingCount=this._firingCount+1||1;for(var f=0,m=c.length;f<m;f++){var v=c[f],b=v.fn;v.once&&this.off(t,b,v.ctx),b.call(v.ctx||this,o)}this._firingCount--}}return r&&this._propagateEvent(o),this},listens:function(t,e,r,o){typeof t!="string"&&console.warn('"string" type argument expected');var c=e;typeof e!="function"&&(o=!!e,c=void 0,r=void 0);var f=this._events&&this._events[t];if(f&&f.length&&this._listens(t,c,r)!==!1)return!0;if(o){for(var m in this._eventParents)if(this._eventParents[m].listens(t,e,r,o))return!0}return!1},_listens:function(t,e,r){if(!this._events)return!1;var o=this._events[t]||[];if(!e)return!!o.length;r===this&&(r=void 0);for(var c=0,f=o.length;c<f;c++)if(o[c].fn===e&&o[c].ctx===r)return c;return!1},once:function(t,e,r){if(typeof t=="object")for(var o in t)this._on(o,t[o],e,!0);else{t=At(t);for(var c=0,f=t.length;c<f;c++)this._on(t[c],e,r,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[T(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[T(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,E({layer:t.target,propagatedFrom:t.target},t),!0)}};ee.addEventListener=ee.on,ee.removeEventListener=ee.clearAllEventListeners=ee.off,ee.addOneTimeEventListener=ee.once,ee.fireEvent=ee.fire,ee.hasEventListeners=ee.listens;var Hi=Re.extend(ee);function Y(t,e,r){this.x=r?Math.round(t):t,this.y=r?Math.round(e):e}var Qr=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(t){return this.clone()._add(q(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(q(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new Y(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new Y(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Qr(this.x),this.y=Qr(this.y),this},distanceTo:function(t){t=q(t);var e=t.x-this.x,r=t.y-this.y;return Math.sqrt(e*e+r*r)},equals:function(t){return t=q(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=q(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+Tt(this.x)+", "+Tt(this.y)+")"}};function q(t,e,r){return t instanceof Y?t:P(t)?new Y(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new Y(t.x,t.y):new Y(t,e,r)}function yt(t,e){if(t)for(var r=e?[t,e]:t,o=0,c=r.length;o<c;o++)this.extend(r[o])}yt.prototype={extend:function(t){var e,r;if(!t)return this;if(t instanceof Y||typeof t[0]=="number"||"x"in t)e=r=q(t);else if(t=Gt(t),e=t.min,r=t.max,!e||!r)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=r.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(t){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,r;return typeof t[0]=="number"||t instanceof Y?t=q(t):t=Gt(t),t instanceof yt?(e=t.min,r=t.max):e=r=t,e.x>=this.min.x&&r.x<=this.max.x&&e.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=Gt(t);var e=this.min,r=this.max,o=t.min,c=t.max,f=c.x>=e.x&&o.x<=r.x,m=c.y>=e.y&&o.y<=r.y;return f&&m},overlaps:function(t){t=Gt(t);var e=this.min,r=this.max,o=t.min,c=t.max,f=c.x>e.x&&o.x<r.x,m=c.y>e.y&&o.y<r.y;return f&&m},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,r=this.max,o=Math.abs(e.x-r.x)*t,c=Math.abs(e.y-r.y)*t;return Gt(q(e.x-o,e.y-c),q(r.x+o,r.y+c))},equals:function(t){return t?(t=Gt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Gt(t,e){return!t||t instanceof yt?t:new yt(t,e)}function Vt(t,e){if(t)for(var r=e?[t,e]:t,o=0,c=r.length;o<c;o++)this.extend(r[o])}Vt.prototype={extend:function(t){var e=this._southWest,r=this._northEast,o,c;if(t instanceof st)o=t,c=t;else if(t instanceof Vt){if(o=t._southWest,c=t._northEast,!o||!c)return this}else return t?this.extend(nt(t)||bt(t)):this;return!e&&!r?(this._southWest=new st(o.lat,o.lng),this._northEast=new st(c.lat,c.lng)):(e.lat=Math.min(o.lat,e.lat),e.lng=Math.min(o.lng,e.lng),r.lat=Math.max(c.lat,r.lat),r.lng=Math.max(c.lng,r.lng)),this},pad:function(t){var e=this._southWest,r=this._northEast,o=Math.abs(e.lat-r.lat)*t,c=Math.abs(e.lng-r.lng)*t;return new Vt(new st(e.lat-o,e.lng-c),new st(r.lat+o,r.lng+c))},getCenter:function(){return new st((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new st(this.getNorth(),this.getWest())},getSouthEast:function(){return new st(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof st||"lat"in t?t=nt(t):t=bt(t);var e=this._southWest,r=this._northEast,o,c;return t instanceof Vt?(o=t.getSouthWest(),c=t.getNorthEast()):o=c=t,o.lat>=e.lat&&c.lat<=r.lat&&o.lng>=e.lng&&c.lng<=r.lng},intersects:function(t){t=bt(t);var e=this._southWest,r=this._northEast,o=t.getSouthWest(),c=t.getNorthEast(),f=c.lat>=e.lat&&o.lat<=r.lat,m=c.lng>=e.lng&&o.lng<=r.lng;return f&&m},overlaps:function(t){t=bt(t);var e=this._southWest,r=this._northEast,o=t.getSouthWest(),c=t.getNorthEast(),f=c.lat>e.lat&&o.lat<r.lat,m=c.lng>e.lng&&o.lng<r.lng;return f&&m},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=bt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function bt(t,e){return t instanceof Vt?t:new Vt(t,e)}function st(t,e,r){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,r!==void 0&&(this.alt=+r)}st.prototype={equals:function(t,e){if(!t)return!1;t=nt(t);var r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+Tt(this.lat,t)+", "+Tt(this.lng,t)+")"},distanceTo:function(t){return Xe.distance(this,nt(t))},wrap:function(){return Xe.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,r=e/Math.cos(Math.PI/180*this.lat);return bt([this.lat-e,this.lng-r],[this.lat+e,this.lng+r])},clone:function(){return new st(this.lat,this.lng,this.alt)}};function nt(t,e,r){return t instanceof st?t:P(t)&&typeof t[0]!="object"?t.length===3?new st(t[0],t[1],t[2]):t.length===2?new st(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new st(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new st(t,e,r)}var Fe={latLngToPoint:function(t,e){var r=this.projection.project(t),o=this.scale(e);return this.transformation._transform(r,o)},pointToLatLng:function(t,e){var r=this.scale(e),o=this.transformation.untransform(t,r);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,r=this.scale(t),o=this.transformation.transform(e.min,r),c=this.transformation.transform(e.max,r);return new yt(o,c)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?D(t.lng,this.wrapLng,!0):t.lng,r=this.wrapLat?D(t.lat,this.wrapLat,!0):t.lat,o=t.alt;return new st(r,e,o)},wrapLatLngBounds:function(t){var e=t.getCenter(),r=this.wrapLatLng(e),o=e.lat-r.lat,c=e.lng-r.lng;if(o===0&&c===0)return t;var f=t.getSouthWest(),m=t.getNorthEast(),v=new st(f.lat-o,f.lng-c),b=new st(m.lat-o,m.lng-c);return new Vt(v,b)}},Xe=E({},Fe,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var r=Math.PI/180,o=t.lat*r,c=e.lat*r,f=Math.sin((e.lat-t.lat)*r/2),m=Math.sin((e.lng-t.lng)*r/2),v=f*f+Math.cos(o)*Math.cos(c)*m*m,b=2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v));return this.R*b}}),to=6378137,sr={R:to,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,r=this.MAX_LATITUDE,o=Math.max(Math.min(r,t.lat),-r),c=Math.sin(o*e);return new Y(this.R*t.lng*e,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(t){var e=180/Math.PI;return new st((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(function(){var t=to*Math.PI;return new yt([-t,-t],[t,t])})()};function Wi(t,e,r,o){if(P(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=r,this._d=o}Wi.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new Y((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function ji(t,e,r,o){return new Wi(t,e,r,o)}var ur=E({},Xe,{code:"EPSG:3857",projection:sr,transformation:(function(){var t=.5/(Math.PI*sr.R);return ji(t,.5,-t,.5)})()}),ca=E({},ur,{code:"EPSG:900913"});function eo(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function io(t,e){var r="",o,c,f,m,v,b;for(o=0,f=t.length;o<f;o++){for(v=t[o],c=0,m=v.length;c<m;c++)b=v[c],r+=(c?"L":"M")+b.x+" "+b.y;r+=e?R.svg?"z":"x":""}return r||"M0 0"}var Ki=document.documentElement.style,Yt="ActiveXObject"in window,no=Yt&&!document.addEventListener,Ui="msLaunchUri"in navigator&&!("documentMode"in document),cr=Xt("webkit"),ye=Xt("android"),li=Xt("android 2")||Xt("android 3"),ro=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ha=ye&&Xt("Google")&&ro<537&&!("AudioNode"in window),Ci=!!window.opera,oo=!Ui&&Xt("chrome"),Me=Xt("gecko")&&!cr&&!Ci&&!Yt,ke=!oo&&Xt("safari"),yn=Xt("phantom"),ao="OTransition"in Ki,bn=navigator.platform.indexOf("Win")===0,hr=Yt&&"transition"in Ki,wn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!li,so="MozPerspective"in Ki,fr=!window.L_DISABLE_3D&&(hr||wn||so)&&!ao&&!yn,Si=typeof orientation<"u"||Xt("mobile"),lr=Si&&cr,fa=Si&&wn,Bt=!window.PointerEvent&&window.MSPointerEvent,dr=!!(window.PointerEvent||Bt),uo="ontouchstart"in window||!!window.TouchEvent,la=!window.L_NO_TOUCH&&(uo||dr),da=Si&&Ci,xn=Si&&Me,Ln=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,_a=(function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",ct,e),window.removeEventListener("testPassiveEventSupport",ct,e)}catch{}return t})(),co=(function(){return!!document.createElement("canvas").getContext})(),qi=!!(document.createElementNS&&eo("svg").createSVGRect),_r=!!qi&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ma=!qi&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}})(),Pn=navigator.platform.indexOf("Mac")===0,ho=navigator.platform.indexOf("Linux")===0;function Xt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var R={ie:Yt,ielt9:no,edge:Ui,webkit:cr,android:ye,android23:li,androidStock:ha,opera:Ci,chrome:oo,gecko:Me,safari:ke,phantom:yn,opera12:ao,win:bn,ie3d:hr,webkit3d:wn,gecko3d:so,any3d:fr,mobile:Si,mobileWebkit:lr,mobileWebkit3d:fa,msPointer:Bt,pointer:dr,touch:la,touchNative:uo,mobileOpera:da,mobileGecko:xn,retina:Ln,passiveEvents:_a,canvas:co,svg:qi,vml:ma,inlineSvg:_r,mac:Pn,linux:ho},fo=R.msPointer?"MSPointerDown":"pointerdown",Gi=R.msPointer?"MSPointerMove":"pointermove",Vi=R.msPointer?"MSPointerUp":"pointerup",lo=R.msPointer?"MSPointerCancel":"pointercancel",mr={touchstart:fo,touchmove:Gi,touchend:Vi,touchcancel:lo},Ce={touchstart:ga,touchmove:Yi,touchend:Yi,touchcancel:Yi},Je={},Tn=!1;function ht(t,e,r){return e==="touchstart"&&po(),Ce[e]?(r=Ce[e].bind(this,r),t.addEventListener(mr[e],r,!1),r):(console.warn("wrong event specified:",e),ct)}function _o(t,e,r){if(!mr[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(mr[e],r,!1)}function pa(t){Je[t.pointerId]=t}function va(t){Je[t.pointerId]&&(Je[t.pointerId]=t)}function mo(t){delete Je[t.pointerId]}function po(){Tn||(document.addEventListener(fo,pa,!0),document.addEventListener(Gi,va,!0),document.addEventListener(Vi,mo,!0),document.addEventListener(lo,mo,!0),Tn=!0)}function Yi(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var r in Je)e.touches.push(Je[r]);e.changedTouches=[e],t(e)}}function ga(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Zt(e),Yi(t,e)}function ya(t){var e={},r,o;for(o in t)r=t[o],e[o]=r&&r.bind?r.bind(t):r;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var ba=200;function vo(t,e){t.addEventListener("dblclick",e);var r=0,o;function c(f){if(f.detail!==1){o=f.detail;return}if(!(f.pointerType==="mouse"||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents)){var m=re(f);if(!(m.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!m.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var v=Date.now();v-r<=ba?(o++,o===2&&e(ya(f))):o=1,r=v}}}return t.addEventListener("click",c),{dblclick:e,simDblclick:c}}function go(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var Mn=Qe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),be=Qe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),kn=be==="webkitTransition"||be==="OTransition"?be+"End":"transitionend";function yo(t){return typeof t=="string"?document.getElementById(t):t}function Xi(t,e){var r=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!r||r==="auto")&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);r=o?o[e]:null}return r==="auto"?null:r}function ot(t,e,r){var o=document.createElement(t);return o.className=e||"",r&&r.appendChild(o),o}function wt(t){var e=t.parentNode;e&&e.removeChild(t)}function Cn(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ei(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function Et(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ie(t,e){if(t.classList!==void 0)return t.classList.contains(e);var r=Sn(t);return r.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(r)}function X(t,e){if(t.classList!==void 0)for(var r=At(e),o=0,c=r.length;o<c;o++)t.classList.add(r[o]);else if(!ie(t,e)){var f=Sn(t);pr(t,(f?f+" ":"")+e)}}function xt(t,e){t.classList!==void 0?t.classList.remove(e):pr(t,Fi((" "+Sn(t)+" ").replace(" "+e+" "," ")))}function pr(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function Sn(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function ne(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Ji(t,e)}function Ji(t,e){var r=!1,o="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(o)}catch{if(e===1)return}e=Math.round(e*100),r?(r.Enabled=e!==100,r.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"}function Qe(t){for(var e=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in e)return t[r];return!1}function ti(t,e,r){var o=e||new Y(0,0);t.style[Mn]=(R.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(r?" scale("+r+")":"")}function vt(t,e){t._leaflet_pos=e,R.any3d?ti(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Se(t){return t._leaflet_pos||new Y(0,0)}var ei,Qi,En;if("onselectstart"in document)ei=function(){K(window,"selectstart",Zt)},Qi=function(){ft(window,"selectstart",Zt)};else{var tn=Qe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ei=function(){if(tn){var t=document.documentElement.style;En=t[tn],t[tn]="none"}},Qi=function(){tn&&(document.documentElement.style[tn]=En,En=void 0)}}function zn(){K(window,"dragstart",Zt)}function en(){ft(window,"dragstart",Zt)}var On,zi;function vr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(An(),On=t,zi=t.style.outlineStyle,t.style.outlineStyle="none",K(window,"keydown",An))}function An(){On&&(On.style.outlineStyle=zi,On=void 0,zi=void 0,ft(window,"keydown",An))}function gr(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function yr(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var wa={__proto__:null,TRANSFORM:Mn,TRANSITION:be,TRANSITION_END:kn,get:yo,getStyle:Xi,create:ot,remove:wt,empty:Cn,toFront:Ei,toBack:Et,hasClass:ie,addClass:X,removeClass:xt,setClass:pr,getClass:Sn,setOpacity:ne,testProp:Qe,setTransform:ti,setPosition:vt,getPosition:Se,get disableTextSelection(){return ei},get enableTextSelection(){return Qi},disableImageDrag:zn,enableImageDrag:en,preventOutline:vr,restoreOutline:An,getSizedParentNode:gr,getScale:yr};function K(t,e,r,o){if(e&&typeof e=="object")for(var c in e)at(t,c,e[c],r);else{e=At(e);for(var f=0,m=e.length;f<m;f++)at(t,e[f],r,o)}return this}var Ee="_leaflet_events";function ft(t,e,r,o){if(arguments.length===1)bo(t),delete t[Ee];else if(e&&typeof e=="object")for(var c in e)Zn(t,c,e[c],r);else if(e=At(e),arguments.length===2)bo(t,function(v){return ue(e,v)!==-1});else for(var f=0,m=e.length;f<m;f++)Zn(t,e[f],r,o);return this}function bo(t,e){for(var r in t[Ee]){var o=r.split(/\d/)[0];(!e||e(o))&&Zn(t,o,null,null,r)}}var br={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function at(t,e,r,o){var c=e+T(r)+(o?"_"+T(o):"");if(t[Ee]&&t[Ee][c])return this;var f=function(v){return r.call(o||t,v||window.event)},m=f;!R.touchNative&&R.pointer&&e.indexOf("touch")===0?f=ht(t,e,f):R.touch&&e==="dblclick"?f=vo(t,f):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(br[e]||e,f,R.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(f=function(v){v=v||window.event,wr(t,v)&&m(v)},t.addEventListener(br[e],f,!1)):t.addEventListener(e,m,!1):t.attachEvent("on"+e,f),t[Ee]=t[Ee]||{},t[Ee][c]=f}function Zn(t,e,r,o,c){c=c||e+T(r)+(o?"_"+T(o):"");var f=t[Ee]&&t[Ee][c];if(!f)return this;!R.touchNative&&R.pointer&&e.indexOf("touch")===0?_o(t,e,f):R.touch&&e==="dblclick"?go(t,f):"removeEventListener"in t?t.removeEventListener(br[e]||e,f,!1):t.detachEvent("on"+e,f),t[Ee][c]=null}function ii(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Wt(t){return at(t,"wheel",ii),this}function di(t){return K(t,"mousedown touchstart dblclick contextmenu",ii),t._leaflet_disable_click=!0,this}function Zt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function ni(t){return Zt(t),ii(t),this}function re(t){if(t.composedPath)return t.composedPath();for(var e=[],r=t.target;r;)e.push(r),r=r.parentNode;return e}function wo(t,e){if(!e)return new Y(t.clientX,t.clientY);var r=yr(e),o=r.boundingClientRect;return new Y((t.clientX-o.left)/r.x-e.clientLeft,(t.clientY-o.top)/r.y-e.clientTop)}var N=R.linux&&R.chrome?window.devicePixelRatio:R.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function y(t){return R.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/N:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function wr(t,e){var r=e.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch{return!1}return r!==t}var xo={__proto__:null,on:K,off:ft,stopPropagation:ii,disableScrollPropagation:Wt,disableClickPropagation:di,preventDefault:Zt,stop:ni,getPropagationPath:re,getMousePosition:wo,getWheelDelta:y,isExternalTarget:wr,addListener:K,removeListener:ft},It=Hi.extend({run:function(t,e,r,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=Se(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=qt(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,r=this._duration*1e3;e<r?this._runFrame(this._easeOut(e/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var r=this._startPos.add(this._offset.multiplyBy(t));e&&r._round(),vt(this._el,r),this.fire("step")},_complete:function(){ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),J=Hi.extend({options:{crs:ur,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=pt(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=it(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(nt(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=be&&R.any3d&&!R.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),K(this._proxy,kn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(nt(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=E({animate:r.animate},r.zoom),r.pan=E({animate:r.animate,duration:r.duration},r.pan));var o=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,r.pan&&r.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(R.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(R.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,r){var o=this.getZoomScale(e),c=this.getSize().divideBy(2),f=t instanceof Y?t:this.latLngToContainerPoint(t),m=f.subtract(c).multiplyBy(1-1/o),v=this.containerPointToLatLng(c.add(m));return this.setView(v,e,{zoom:r})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():bt(t);var r=q(e.paddingTopLeft||e.padding||[0,0]),o=q(e.paddingBottomRight||e.padding||[0,0]),c=this.getBoundsZoom(t,!1,r.add(o));if(c=typeof e.maxZoom=="number"?Math.min(e.maxZoom,c):c,c===1/0)return{center:t.getCenter(),zoom:c};var f=o.subtract(r).divideBy(2),m=this.project(t.getSouthWest(),c),v=this.project(t.getNorthEast(),c),b=this.unproject(m.add(v).divideBy(2).add(f),c);return{center:b,zoom:c}},fitBounds:function(t,e){if(t=bt(t),!t.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,e);return this.setView(r.center,r.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=q(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new It,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){X(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,r){if(r=r||{},r.animate===!1||!R.any3d)return this.setView(t,e,r);this._stop();var o=this.project(this.getCenter()),c=this.project(t),f=this.getSize(),m=this._zoom;t=nt(t),e=e===void 0?m:e;var v=Math.max(f.x,f.y),b=v*this.getZoomScale(m,e),M=c.distanceTo(o)||1,A=1.42,B=A*A;function Q(Ct){var St=Ct?-1:1,Ge=Ct?b:v,Be=b*b-v*v+St*B*B*M*M,hi=2*Ge*B*M,Nr=Be/hi,bi=Math.sqrt(Nr*Nr+1)-Nr,Go=bi<1e-9?-18:Math.log(bi);return Go}function G(Ct){return(Math.exp(Ct)-Math.exp(-Ct))/2}function Pt(Ct){return(Math.exp(Ct)+Math.exp(-Ct))/2}function $t(Ct){return G(Ct)/Pt(Ct)}var gt=Q(0);function gi(Ct){return v*(Pt(gt)/Pt(gt+A*Ct))}function $r(Ct){return v*(Pt(gt)*$t(gt+A*Ct)-G(gt))/B}function yi(Ct){return 1-Math.pow(1-Ct,1.5)}var Zi=Date.now(),qo=(Q(1)-gt)/A,Mt=r.duration?1e3*r.duration:1e3*qo*.8;function Gn(){var Ct=(Date.now()-Zi)/Mt,St=yi(Ct)*qo;Ct<=1?(this._flyToFrame=qt(Gn,this),this._move(this.unproject(o.add(c.subtract(o).multiplyBy($r(St)/M)),m),this.getScaleZoom(v/gi(St),m),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),Gn.call(this),this},flyToBounds:function(t,e){var r=this._getBoundsCenterZoom(t,e);return this.flyTo(r.center,r.zoom,e)},setMaxBounds:function(t){return t=bt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var r=this.getCenter(),o=this._limitCenter(r,this._zoom,bt(t));return r.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var r=q(e.paddingTopLeft||e.padding||[0,0]),o=q(e.paddingBottomRight||e.padding||[0,0]),c=this.project(this.getCenter()),f=this.project(t),m=this.getPixelBounds(),v=Gt([m.min.add(r),m.max.subtract(o)]),b=v.getSize();if(!v.contains(f)){this._enforcingBounds=!0;var M=f.subtract(v.getCenter()),A=v.extend(f).getSize().subtract(b);c.x+=M.x<0?-A.x:A.x,c.y+=M.y<0?-A.y:A.y,this.panTo(this.unproject(c),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=E({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=e.divideBy(2).round(),c=r.divideBy(2).round(),f=o.subtract(c);return!f.x&&!f.y?this:(t.animate&&t.pan?this.panBy(f):(t.pan&&this._rawPanBy(f),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(it(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=E({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=it(this._handleGeolocationResponse,this),r=it(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,r=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,r=t.coords.longitude,o=new st(e,r),c=o.toBounds(t.coords.accuracy*2),f=this._locateOptions;if(f.setView){var m=this.getBoundsZoom(c);this.setView(o,f.maxZoom?Math.min(m,f.maxZoom):m)}var v={latlng:o,bounds:c,timestamp:t.timestamp};for(var b in t.coords)typeof t.coords[b]=="number"&&(v[b]=t.coords[b]);this.fire("locationfound",v)}},addHandler:function(t,e){if(!e)return this;var r=this[t]=new e(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)wt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var r="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),o=ot("div",r,e||this._mapPane);return t&&(this._panes[t]=o),o},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),r=this.unproject(t.getTopRight());return new Vt(e,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,r){t=bt(t),r=q(r||[0,0]);var o=this.getZoom()||0,c=this.getMinZoom(),f=this.getMaxZoom(),m=t.getNorthWest(),v=t.getSouthEast(),b=this.getSize().subtract(r),M=Gt(this.project(v,o),this.project(m,o)).getSize(),A=R.any3d?this.options.zoomSnap:1,B=b.x/M.x,Q=b.y/M.y,G=e?Math.max(B,Q):Math.min(B,Q);return o=this.getScaleZoom(G,o),A&&(o=Math.round(o/(A/100))*(A/100),o=e?Math.ceil(o/A)*A:Math.floor(o/A)*A),Math.max(c,Math.min(f,o))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var r=this._getTopLeftPoint(t,e);return new yt(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var r=this.options.crs;return e=e===void 0?this._zoom:e,r.scale(t)/r.scale(e)},getScaleZoom:function(t,e){var r=this.options.crs;e=e===void 0?this._zoom:e;var o=r.zoom(t*r.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(nt(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(q(t),e)},layerPointToLatLng:function(t){var e=q(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(nt(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(nt(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(bt(t))},distance:function(t,e){return this.options.crs.distance(nt(t),nt(e))},containerPointToLayerPoint:function(t){return q(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return q(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(q(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(nt(t)))},mouseEventToContainerPoint:function(t){return wo(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=yo(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");K(e,"scroll",this._onScroll,this),this._containerId=T(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&R.any3d,X(t,"leaflet-container"+(R.touch?" leaflet-touch":"")+(R.retina?" leaflet-retina":"")+(R.ielt9?" leaflet-oldie":"")+(R.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=Xi(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),vt(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(X(t.markerPane,"leaflet-zoom-hide"),X(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,r){vt(this._mapPane,new Y(0,0));var o=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var c=this._zoom!==e;this._moveStart(c,r)._move(t,e)._moveEnd(c),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,r,o){e===void 0&&(e=this._zoom);var c=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),o?r&&r.pinch&&this.fire("zoom",r):((c||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){vt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[T(this._container)]=this;var e=t?ft:K;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),R.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ce(this._resizeRequest),this._resizeRequest=qt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var r=[],o,c=e==="mouseout"||e==="mouseover",f=t.target||t.srcElement,m=!1;f;){if(o=this._targets[T(f)],o&&(e==="click"||e==="preclick")&&this._draggableMoved(o)){m=!0;break}if(o&&o.listens(e,!0)&&(c&&!wr(f,t)||(r.push(o),c))||f===this._container)break;f=f.parentNode}return!r.length&&!m&&!c&&this.listens(e,!0)&&(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var r=t.type;r==="mousedown"&&vr(e),this._fireDOMEvent(t,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if(t.type==="click"){var o=E({},t);o.type="preclick",this._fireDOMEvent(o,o.type,r)}var c=this._findEventTargets(t,e);if(r){for(var f=[],m=0;m<r.length;m++)r[m].listens(e,!0)&&f.push(r[m]);c=f.concat(c)}if(c.length){e==="contextmenu"&&Zt(t);var v=c[0],b={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var M=v.getLatLng&&(!v._radius||v._radius<=10);b.containerPoint=M?this.latLngToContainerPoint(v.getLatLng()):this.mouseEventToContainerPoint(t),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=M?v.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(m=0;m<c.length;m++)if(c[m].fire(e,b,!0),b.originalEvent._stopped||c[m].options.bubblingMouseEvents===!1&&ue(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Se(this._mapPane)||new Y(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var r=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var r=this.getSize()._divideBy(2);return this.project(t,e)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,r){var o=this._getNewPixelOrigin(r,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,r){var o=this._getNewPixelOrigin(r,e);return Gt([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,r){if(!r)return t;var o=this.project(t,e),c=this.getSize().divideBy(2),f=new yt(o.subtract(c),o.add(c)),m=this._getBoundsOffset(f,r,e);return Math.abs(m.x)<=1&&Math.abs(m.y)<=1?t:this.unproject(o.add(m),e)},_limitOffset:function(t,e){if(!e)return t;var r=this.getPixelBounds(),o=new yt(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,r){var o=Gt(this.project(e.getNorthEast(),r),this.project(e.getSouthWest(),r)),c=o.min.subtract(t.min),f=o.max.subtract(t.max),m=this._rebound(c.x,-f.x),v=this._rebound(c.y,-f.y);return new Y(m,v)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),r=this.getMaxZoom(),o=R.any3d?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var r=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,e),!0)},_createAnimProxy:function(){var t=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var r=Mn,o=this._proxy.style[r];ti(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),o===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ti(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),c=this._getCenterOffset(t)._divideBy(1-1/o);return r.animate!==!0&&!this.getSize().contains(c)?!1:(qt(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,r,o){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,X(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(it(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function oe(t,e){return new J(t,e)}var he=Re.extend({options:{position:"topright"},initialize:function(t){pt(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),r=this.getPosition(),o=t._controlCorners[r];return X(e,"leaflet-control"),r.indexOf("bottom")!==-1?o.insertBefore(e,o.firstChild):o.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ze=function(t){return new he(t)};J.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",r=this._controlContainer=ot("div",e+"control-container",this._container);function o(c,f){var m=e+c+" "+e+f;t[c+f]=ot("div",m,r)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)wt(this._controlCorners[t]);wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var In=he.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,r,o){return r<o?-1:o<r?1:0}},initialize:function(t,e,r){pt(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var o in t)this._addLayer(t[o],o);for(o in e)this._addLayer(e[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return he.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(T(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){X(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(X(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ot("div",t),r=this.options.collapsed;e.setAttribute("aria-haspopup",!0),di(e),Wt(e);var o=this._section=ot("section",t+"-list");r&&(this._map.on("click",this.collapse,this),K(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var c=this._layersLink=ot("a",t+"-toggle",e);c.href="#",c.title="Layers",c.setAttribute("role","button"),K(c,{keydown:function(f){f.keyCode===13&&this._expandSafely()},click:function(f){Zt(f),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=ot("div",t+"-base",o),this._separator=ot("div",t+"-separator",o),this._overlaysList=ot("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&T(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:r}),this.options.sortLayers&&this._layers.sort(it(function(o,c){return this.options.sortFunction(o.layer,c.layer,o.name,c.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Cn(this._baseLayersList),Cn(this._overlaysList),this._layerControlInputs=[];var t,e,r,o,c=0;for(r=0;r<this._layers.length;r++)o=this._layers[r],this._addItem(o),e=e||o.overlay,t=t||!o.overlay,c+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&c>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(T(t.target)),r=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;r&&this._map.fire(r,e)},_createRadioElement:function(t,e){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=r,o.firstChild},_addItem:function(t){var e=document.createElement("label"),r=this._map.hasLayer(t.layer),o;t.overlay?(o=document.createElement("input"),o.type="checkbox",o.className="leaflet-control-layers-selector",o.defaultChecked=r):o=this._createRadioElement("leaflet-base-layers_"+T(this),r),this._layerControlInputs.push(o),o.layerId=T(t.layer),K(o,"click",this._onInputClick,this);var c=document.createElement("span");c.innerHTML=" "+t.name;var f=document.createElement("span");e.appendChild(f),f.appendChild(o),f.appendChild(c);var m=t.overlay?this._overlaysList:this._baseLayersList;return m.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,r,o=[],c=[];this._handlingClick=!0;for(var f=t.length-1;f>=0;f--)e=t[f],r=this._getLayer(e.layerId).layer,e.checked?o.push(r):e.checked||c.push(r);for(f=0;f<c.length;f++)this._map.hasLayer(c[f])&&this._map.removeLayer(c[f]);for(f=0;f<o.length;f++)this._map.hasLayer(o[f])||this._map.addLayer(o[f]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,r,o=this._map.getZoom(),c=t.length-1;c>=0;c--)e=t[c],r=this._getLayer(e.layerId).layer,e.disabled=r.options.minZoom!==void 0&&o<r.options.minZoom||r.options.maxZoom!==void 0&&o>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,K(t,"click",Zt),this.expand();var e=this;setTimeout(function(){ft(t,"click",Zt),e._preventClick=!1})}}),xa=function(t,e,r){return new In(t,e,r)},xr=he.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",r=ot("div",e+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,e+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,e+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,r,o,c){var f=ot("a",r,o);return f.innerHTML=t,f.href="#",f.title=e,f.setAttribute("role","button"),f.setAttribute("aria-label",e),di(f),K(f,"click",ni),K(f,"click",c,this),K(f,"click",this._refocusOnMap,this),f},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";xt(this._zoomInButton,e),xt(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(X(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(X(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});J.mergeOptions({zoomControl:!0}),J.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xr,this.addControl(this.zoomControl))});var Lo=function(t){return new xr(t)},Po=he.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",r=ot("div",e),o=this.options;return this._addScales(o,e+"-line",r),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,r){t.metric&&(this._mScale=ot("div",e,r)),t.imperial&&(this._iScale=ot("div",e,r))},_update:function(){var t=this._map,e=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),r=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,r,e/t)},_updateImperial:function(t){var e=t*3.2808399,r,o,c;e>5280?(r=e/5280,o=this._getRoundNum(r),this._updateScale(this._iScale,o+" mi",o/r)):(c=this._getRoundNum(e),this._updateScale(this._iScale,c+" ft",c/e))},_updateScale:function(t,e,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),r=t/e;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,e*r}}),Lr=function(t){return new Po(t)},To='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Bn=he.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(R.inlineSvg?To+" ":"")+"Leaflet</a>"},initialize:function(t){pt(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),di(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});J.mergeOptions({attributionControl:!0}),J.addInitHook(function(){this.options.attributionControl&&new Bn().addTo(this)});var La=function(t){return new Bn(t)};he.Layers=In,he.Zoom=xr,he.Scale=Po,he.Attribution=Bn,ze.layers=xa,ze.zoom=Lo,ze.scale=Lr,ze.attribution=La;var Oe=Re.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Oe.addTo=function(t,e){return t.addHandler(e,this),this};var Ae={Events:ee},Mo=R.touch?"touchstart mousedown":"mousedown",ri=Hi.extend({options:{clickTolerance:3},initialize:function(t,e,r,o){pt(this,o),this._element=t,this._dragStartTarget=e||t,this._preventOutline=r},enable:function(){this._enabled||(K(this._dragStartTarget,Mo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ri._dragging===this&&this.finishDrag(!0),ft(this._dragStartTarget,Mo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ie(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ri._dragging===this&&this.finishDrag();return}if(!(ri._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ri._dragging=this,this._preventOutline&&vr(this._element),zn(),ei(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,r=gr(this._element);this._startPoint=new Y(e.clientX,e.clientY),this._startPos=Se(this._element),this._parentScale=yr(r);var o=t.type==="mousedown";K(document,o?"mousemove":"touchmove",this._onMove,this),K(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,r=new Y(e.clientX,e.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,Zt(t),this._moved||(this.fire("dragstart"),this._moved=!0,X(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),X(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),vt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){xt(document.body,"leaflet-dragging"),this._lastTarget&&(xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ft(document,"mousemove touchmove",this._onMove,this),ft(document,"mouseup touchend touchcancel",this._onUp,this),en(),Qi();var e=this._moved&&this._moving;this._moving=!1,ri._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Pr(t,e,r){var o,c=[1,4,2,8],f,m,v,b,M,A,B,Q;for(f=0,A=t.length;f<A;f++)t[f]._code=He(t[f],e);for(v=0;v<4;v++){for(B=c[v],o=[],f=0,A=t.length,m=A-1;f<A;m=f++)b=t[f],M=t[m],b._code&B?M._code&B||(Q=nn(M,b,B,e,r),Q._code=He(Q,e),o.push(Q)):(M._code&B&&(Q=nn(M,b,B,e,r),Q._code=He(Q,e),o.push(Q)),o.push(b));t=o}return t}function ko(t,e){var r,o,c,f,m,v,b,M,A;if(!t||t.length===0)throw new Error("latlngs not passed");fe(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var B=nt([0,0]),Q=bt(t),G=Q.getNorthWest().distanceTo(Q.getSouthWest())*Q.getNorthEast().distanceTo(Q.getNorthWest());G<1700&&(B=ae(t));var Pt=t.length,$t=[];for(r=0;r<Pt;r++){var gt=nt(t[r]);$t.push(e.project(nt([gt.lat-B.lat,gt.lng-B.lng])))}for(v=b=M=0,r=0,o=Pt-1;r<Pt;o=r++)c=$t[r],f=$t[o],m=c.y*f.x-f.y*c.x,b+=(c.x+f.x)*m,M+=(c.y+f.y)*m,v+=m*3;v===0?A=$t[0]:A=[b/v,M/v];var gi=e.unproject(q(A));return nt([gi.lat+B.lat,gi.lng+B.lng])}function ae(t){for(var e=0,r=0,o=0,c=0;c<t.length;c++){var f=nt(t[c]);e+=f.lat,r+=f.lng,o++}return nt([e/o,r/o])}var Tr={__proto__:null,clipPolygon:Pr,polygonCenter:ko,centroid:ae};function $n(t,e){if(!e||!t.length)return t.slice();var r=e*e;return t=So(t,r),t=Mr(t,r),t}function Nn(t,e,r){return Math.sqrt(rn(t,e,r,!0))}function Co(t,e,r){return rn(t,e,r)}function Mr(t,e){var r=t.length,o=typeof Uint8Array<"u"?Uint8Array:Array,c=new o(r);c[0]=c[r-1]=1,kr(t,c,e,0,r-1);var f,m=[];for(f=0;f<r;f++)c[f]&&m.push(t[f]);return m}function kr(t,e,r,o,c){var f=0,m,v,b;for(v=o+1;v<=c-1;v++)b=rn(t[v],t[o],t[c],!0),b>f&&(m=v,f=b);f>r&&(e[m]=1,kr(t,e,r,o,m),kr(t,e,r,m,c))}function So(t,e){for(var r=[t[0]],o=1,c=0,f=t.length;o<f;o++)zo(t[o],t[c])>e&&(r.push(t[o]),c=o);return c<f-1&&r.push(t[f-1]),r}var Eo;function Cr(t,e,r,o,c){var f=o?Eo:He(t,r),m=He(e,r),v,b,M;for(Eo=m;;){if(!(f|m))return[t,e];if(f&m)return!1;v=f||m,b=nn(t,e,v,r,c),M=He(b,r),v===f?(t=b,f=M):(e=b,m=M)}}function nn(t,e,r,o,c){var f=e.x-t.x,m=e.y-t.y,v=o.min,b=o.max,M,A;return r&8?(M=t.x+f*(b.y-t.y)/m,A=b.y):r&4?(M=t.x+f*(v.y-t.y)/m,A=v.y):r&2?(M=b.x,A=t.y+m*(b.x-t.x)/f):r&1&&(M=v.x,A=t.y+m*(v.x-t.x)/f),new Y(M,A,c)}function He(t,e){var r=0;return t.x<e.min.x?r|=1:t.x>e.max.x&&(r|=2),t.y<e.min.y?r|=4:t.y>e.max.y&&(r|=8),r}function zo(t,e){var r=e.x-t.x,o=e.y-t.y;return r*r+o*o}function rn(t,e,r,o){var c=e.x,f=e.y,m=r.x-c,v=r.y-f,b=m*m+v*v,M;return b>0&&(M=((t.x-c)*m+(t.y-f)*v)/b,M>1?(c=r.x,f=r.y):M>0&&(c+=m*M,f+=v*M)),m=t.x-c,v=t.y-f,o?m*m+v*v:new Y(c,f)}function fe(t){return!P(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Oo(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),fe(t)}function Ao(t,e){var r,o,c,f,m,v,b,M;if(!t||t.length===0)throw new Error("latlngs not passed");fe(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var A=nt([0,0]),B=bt(t),Q=B.getNorthWest().distanceTo(B.getSouthWest())*B.getNorthEast().distanceTo(B.getNorthWest());Q<1700&&(A=ae(t));var G=t.length,Pt=[];for(r=0;r<G;r++){var $t=nt(t[r]);Pt.push(e.project(nt([$t.lat-A.lat,$t.lng-A.lng])))}for(r=0,o=0;r<G-1;r++)o+=Pt[r].distanceTo(Pt[r+1])/2;if(o===0)M=Pt[0];else for(r=0,f=0;r<G-1;r++)if(m=Pt[r],v=Pt[r+1],c=m.distanceTo(v),f+=c,f>o){b=(f-o)/c,M=[v.x-b*(v.x-m.x),v.y-b*(v.y-m.y)];break}var gt=e.unproject(q(M));return nt([gt.lat+A.lat,gt.lng+A.lng])}var Pa={__proto__:null,simplify:$n,pointToSegmentDistance:Nn,closestPointOnSegment:Co,clipSegment:Cr,_getEdgeIntersection:nn,_getBitCode:He,_sqClosestPointOnSegment:rn,isFlat:fe,_flat:Oo,polylineCenter:Ao},le={project:function(t){return new Y(t.lng,t.lat)},unproject:function(t){return new st(t.y,t.x)},bounds:new yt([-180,-90],[180,90])},Ot={R:6378137,R_MINOR:6356752314245179e-9,bounds:new yt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,r=this.R,o=t.lat*e,c=this.R_MINOR/r,f=Math.sqrt(1-c*c),m=f*Math.sin(o),v=Math.tan(Math.PI/4-o/2)/Math.pow((1-m)/(1+m),f/2);return o=-r*Math.log(Math.max(v,1e-10)),new Y(t.lng*e*r,o)},unproject:function(t){for(var e=180/Math.PI,r=this.R,o=this.R_MINOR/r,c=Math.sqrt(1-o*o),f=Math.exp(-t.y/r),m=Math.PI/2-2*Math.atan(f),v=0,b=.1,M;v<15&&Math.abs(b)>1e-7;v++)M=c*Math.sin(m),M=Math.pow((1-M)/(1+M),c/2),b=Math.PI/2-2*Math.atan(f*M)-m,m+=b;return new st(m*e,t.x*e/r)}},Sr={__proto__:null,LonLat:le,Mercator:Ot,SphericalMercator:sr},se=E({},Xe,{code:"EPSG:3395",projection:Ot,transformation:(function(){var t=.5/(Math.PI*Ot.R);return ji(t,.5,-t,.5)})()}),Er=E({},Xe,{code:"EPSG:4326",projection:le,transformation:ji(1/180,1,-1/180,.5)}),Jt=E({},Fe,{projection:le,transformation:ji(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var r=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(r*r+o*o)},infinite:!0});Fe.Earth=Xe,Fe.EPSG3395=se,Fe.EPSG3857=ur,Fe.EPSG900913=ca,Fe.EPSG4326=Er,Fe.Simple=Jt;var de=Hi.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[T(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[T(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var r=this.getEvents();e.on(r,this),this.once("remove",function(){e.off(r,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});J.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=T(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=T(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return T(t)in this._layers},eachLayer:function(t,e){for(var r in this._layers)t.call(e,this._layers[r]);return this},_addLayers:function(t){t=t?P(t)?t:[t]:[];for(var e=0,r=t.length;e<r;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[T(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=T(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,r=this._getZoomSpan();for(var o in this._zoomBoundLayers){var c=this._zoomBoundLayers[o].options;t=c.minZoom===void 0?t:Math.min(t,c.minZoom),e=c.maxZoom===void 0?e:Math.max(e,c.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _i=de.extend({initialize:function(t,e){pt(this,e),this._layers={};var r,o;if(t)for(r=0,o=t.length;r<o;r++)this.addLayer(t[r])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),r,o;for(r in this._layers)o=this._layers[r],o[t]&&o[t].apply(o,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var r in this._layers)t.call(e,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return T(t)}}),Zo=function(t,e){return new _i(t,e)},_e=_i.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),_i.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),_i.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Vt;for(var e in this._layers){var r=this._layers[e];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),oi=function(t,e){return new _e(t,e)},we=Re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){pt(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var r=this._getIconUrl(t);if(!r){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(r,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(o,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),o},_setIconStyles:function(t,e){var r=this.options,o=r[e+"Size"];typeof o=="number"&&(o=[o,o]);var c=q(o),f=q(e==="shadow"&&r.shadowAnchor||r.iconAnchor||c&&c.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(r.className||""),f&&(t.style.marginLeft=-f.x+"px",t.style.marginTop=-f.y+"px"),c&&(t.style.width=c.x+"px",t.style.height=c.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return R.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function jt(t){return new we(t)}var We=we.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof We.imagePath!="string"&&(We.imagePath=this._detectIconPath()),(this.options.imagePath||We.imagePath)+we.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(r,o,c){var f=o.exec(r);return f&&f[c]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ot("div","leaflet-default-icon-path",document.body),e=Xi(t,"background-image")||Xi(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),xe=Oe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ri(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),X(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,r=e._map,o=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,f=Se(e._icon),m=r.getPixelBounds(),v=r.getPixelOrigin(),b=Gt(m.min._subtract(v).add(c),m.max._subtract(v).subtract(c));if(!b.contains(f)){var M=q((Math.max(b.max.x,f.x)-b.max.x)/(m.max.x-b.max.x)-(Math.min(b.min.x,f.x)-b.min.x)/(m.min.x-b.min.x),(Math.max(b.max.y,f.y)-b.max.y)/(m.max.y-b.max.y)-(Math.min(b.min.y,f.y)-b.min.y)/(m.min.y-b.min.y)).multiplyBy(o);r.panBy(M,{animate:!1}),this._draggable._newPos._add(M),this._draggable._startPos._add(M),vt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=qt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(ce(this._panRequest),this._panRequest=qt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,r=e._shadow,o=Se(e._icon),c=e._map.layerPointToLatLng(o);r&&vt(r,o),e._latlng=c,t.latlng=c,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),on=de.extend({options:{icon:new We,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){pt(this,e),this._latlng=nt(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=nt(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),o=!1;r!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(r.title=t.title),r.tagName==="IMG"&&(r.alt=t.alt||"")),X(r,e),t.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&K(r,"focus",this._panOnFocus,this);var c=t.icon.createShadow(this._shadow),f=!1;c!==this._shadow&&(this._removeShadow(),f=!0),c&&(X(c,e),c.alt=""),this._shadow=c,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&f&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(this._icon,"focus",this._panOnFocus,this),wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&wt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&vt(this._icon,t),this._shadow&&vt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(X(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xe)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xe(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ne(this._icon,t),this._shadow&&ne(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,r=e.iconSize?q(e.iconSize):q(0,0),o=e.iconAnchor?q(e.iconAnchor):q(0,0);t.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:r.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Io(t,e){return new on(t,e)}var je=de.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return pt(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),an=je.extend({options:{fill:!0,radius:10},initialize:function(t,e){pt(this,e),this._latlng=nt(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=nt(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return je.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,r=this._clickTolerance(),o=[t+r,e+r];this._pxBounds=new yt(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function zr(t,e){return new an(t,e)}var Dn=an.extend({initialize:function(t,e,r){if(typeof e=="number"&&(e=E({},r,{radius:e})),pt(this,e),this._latlng=nt(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Vt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:je.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,r=this._map,o=r.options.crs;if(o.distance===Xe.distance){var c=Math.PI/180,f=this._mRadius/Xe.R/c,m=r.project([e+f,t]),v=r.project([e-f,t]),b=m.add(v).divideBy(2),M=r.unproject(b).lat,A=Math.acos((Math.cos(f*c)-Math.sin(e*c)*Math.sin(M*c))/(Math.cos(e*c)*Math.cos(M*c)))/c;(isNaN(A)||A===0)&&(A=f/Math.cos(Math.PI/180*e)),this._point=b.subtract(r.getPixelOrigin()),this._radius=isNaN(A)?0:b.x-r.project([M,t-A]).x,this._radiusY=b.y-m.y}else{var B=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(B).x}this._updateBounds()}});function Bo(t,e,r){return new Dn(t,e,r)}var Lt=je.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){pt(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,r=null,o=rn,c,f,m=0,v=this._parts.length;m<v;m++)for(var b=this._parts[m],M=1,A=b.length;M<A;M++){c=b[M-1],f=b[M];var B=o(t,c,f,!0);B<e&&(e=B,r=o(t,c,f))}return r&&(r.distance=Math.sqrt(e)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ao(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=nt(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Vt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return fe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],r=fe(t),o=0,c=t.length;o<c;o++)r?(e[o]=nt(t[o]),this._bounds.extend(e[o])):e[o]=this._convertLatLngs(t[o]);return e},_project:function(){var t=new yt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new Y(t,t);this._rawPxBounds&&(this._pxBounds=new yt([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,r){var o=t[0]instanceof st,c=t.length,f,m;if(o){for(m=[],f=0;f<c;f++)m[f]=this._map.latLngToLayerPoint(t[f]),r.extend(m[f]);e.push(m)}else for(f=0;f<c;f++)this._projectLatlngs(t[f],e,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,r,o,c,f,m,v,b;for(r=0,c=0,f=this._rings.length;r<f;r++)for(b=this._rings[r],o=0,m=b.length;o<m-1;o++)v=Cr(b[o],b[o+1],t,o,!0),v&&(e[c]=e[c]||[],e[c].push(v[0]),(v[1]!==b[o+1]||o===m-2)&&(e[c].push(v[1]),c++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,r=0,o=t.length;r<o;r++)t[r]=$n(t[r],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var r,o,c,f,m,v,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,f=this._parts.length;r<f;r++)for(v=this._parts[r],o=0,m=v.length,c=m-1;o<m;c=o++)if(!(!e&&o===0)&&Nn(t,v[c],v[o])<=b)return!0;return!1}});function Ta(t,e){return new Lt(t,e)}Lt._flat=Oo;var mi=Lt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ko(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Lt.prototype._convertLatLngs.call(this,t),r=e.length;return r>=2&&e[0]instanceof st&&e[0].equals(e[r-1])&&e.pop(),e},_setLatLngs:function(t){Lt.prototype._setLatLngs.call(this,t),fe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return fe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,r=new Y(e,e);if(t=new yt(t.min.subtract(r),t.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var o=0,c=this._rings.length,f;o<c;o++)f=Pr(this._rings[o],t,!0),f.length&&this._parts.push(f)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,r,o,c,f,m,v,b,M;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(f=0,b=this._parts.length;f<b;f++)for(r=this._parts[f],m=0,M=r.length,v=M-1;m<M;v=m++)o=r[m],c=r[v],o.y>t.y!=c.y>t.y&&t.x<(c.x-o.x)*(t.y-o.y)/(c.y-o.y)+o.x&&(e=!e);return e||Lt.prototype._containsPoint.call(this,t,!0)}});function ai(t,e){return new mi(t,e)}var kt=_e.extend({initialize:function(t,e){pt(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=P(t)?t:t.features,r,o,c;if(e){for(r=0,o=e.length;r<o;r++)c=e[r],(c.geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}var f=this.options;if(f.filter&&!f.filter(t))return this;var m=Le(t,f);return m?(m.feature=Hn(t),m.defaultOptions=m.options,this.resetStyle(m),f.onEachFeature&&f.onEachFeature(t,m),this.addLayer(m)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=E({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function Le(t,e){var r=t.type==="Feature"?t.geometry:t,o=r?r.coordinates:null,c=[],f=e&&e.pointToLayer,m=e&&e.coordsToLatLng||Or,v,b,M,A;if(!o&&!r)return null;switch(r.type){case"Point":return v=m(o),Rn(f,t,v,e);case"MultiPoint":for(M=0,A=o.length;M<A;M++)v=m(o[M]),c.push(Rn(f,t,v,e));return new _e(c);case"LineString":case"MultiLineString":return b=sn(o,r.type==="LineString"?0:1,m),new Lt(b,e);case"Polygon":case"MultiPolygon":return b=sn(o,r.type==="Polygon"?1:2,m),new mi(b,e);case"GeometryCollection":for(M=0,A=r.geometries.length;M<A;M++){var B=Le({geometry:r.geometries[M],type:"Feature",properties:t.properties},e);B&&c.push(B)}return new _e(c);case"FeatureCollection":for(M=0,A=r.features.length;M<A;M++){var Q=Le(r.features[M],e);Q&&c.push(Q)}return new _e(c);default:throw new Error("Invalid GeoJSON object.")}}function Rn(t,e,r,o){return t?t(e,r):new on(r,o&&o.markersInheritOptions&&o)}function Or(t){return new st(t[1],t[0],t[2])}function sn(t,e,r){for(var o=[],c=0,f=t.length,m;c<f;c++)m=e?sn(t[c],e-1,r):(r||Or)(t[c]),o.push(m);return o}function un(t,e){return t=nt(t),t.alt!==void 0?[Tt(t.lng,e),Tt(t.lat,e),Tt(t.alt,e)]:[Tt(t.lng,e),Tt(t.lat,e)]}function Fn(t,e,r,o){for(var c=[],f=0,m=t.length;f<m;f++)c.push(e?Fn(t[f],fe(t[f])?0:e-1,r,o):un(t[f],o));return!e&&r&&c.length>0&&c.push(c[0].slice()),c}function pi(t,e){return t.feature?E({},t.feature,{geometry:e}):Hn(e)}function Hn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var me={toGeoJSON:function(t){return pi(this,{type:"Point",coordinates:un(this.getLatLng(),t)})}};on.include(me),Dn.include(me),an.include(me),Lt.include({toGeoJSON:function(t){var e=!fe(this._latlngs),r=Fn(this._latlngs,e?1:0,!1,t);return pi(this,{type:(e?"Multi":"")+"LineString",coordinates:r})}}),mi.include({toGeoJSON:function(t){var e=!fe(this._latlngs),r=e&&!fe(this._latlngs[0]),o=Fn(this._latlngs,r?2:e?1:0,!0,t);return e||(o=[o]),pi(this,{type:(r?"Multi":"")+"Polygon",coordinates:o})}}),_i.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(r){e.push(r.toGeoJSON(t).geometry.coordinates)}),pi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var r=e==="GeometryCollection",o=[];return this.eachLayer(function(c){if(c.toGeoJSON){var f=c.toGeoJSON(t);if(r)o.push(f.geometry);else{var m=Hn(f);m.type==="FeatureCollection"?o.push.apply(o,m.features):o.push(m)}}}),r?pi(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});function Ke(t,e){return new kt(t,e)}var Kt=Ke,Wn=de.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,r){this._url=t,this._bounds=bt(e),pt(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(X(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ei(this._image),this},bringToBack:function(){return this._map&&Et(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=bt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:ot("img");if(X(e,"leaflet-image-layer"),this._zoomAnimated&&X(e,"leaflet-zoom-animated"),this.options.className&&X(e,this.options.className),e.onselectstart=ct,e.onmousemove=ct,e.onload=it(this.fire,this,"load"),e.onerror=it(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ti(this._image,r,e)},_reset:function(){var t=this._image,e=new yt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=e.getSize();vt(t,e.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){ne(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),$o=function(t,e,r){return new Wn(t,e,r)},No=Wn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:ot("video");if(X(e,"leaflet-image-layer"),this._zoomAnimated&&X(e,"leaflet-zoom-animated"),this.options.className&&X(e,this.options.className),e.onselectstart=ct,e.onmousemove=ct,e.onloadeddata=it(this.fire,this,"load"),t){for(var r=e.getElementsByTagName("source"),o=[],c=0;c<r.length;c++)o.push(r[c].src);this._url=r.length>0?o:[e.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var f=0;f<this._url.length;f++){var m=ot("source");m.src=this._url[f],e.appendChild(m)}}});function Ma(t,e,r){return new No(t,e,r)}var Do=Wn.extend({_initImage:function(){var t=this._image=this._url;X(t,"leaflet-image-layer"),this._zoomAnimated&&X(t,"leaflet-zoom-animated"),this.options.className&&X(t,this.options.className),t.onselectstart=ct,t.onmousemove=ct}});function jn(t,e,r){return new Do(t,e,r)}var Ze=de.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof st||P(t))?(this._latlng=nt(t),pt(this,e)):(pt(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ne(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ne(this._container,1),this.bringToFront(),this.options.interactive&&(X(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(ne(this._container,0),this._removeTimeout=setTimeout(it(wt,void 0,this._container),200)):wt(this._container),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=nt(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ei(this._container),this},bringToBack:function(){return this._map&&Et(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof _e){e=null;var r=this._source._layers;for(var o in r)if(r[o]._map){e=r[o];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=q(this.options.offset),r=this._getAnchor();this._zoomAnimated?vt(this._container,t.add(r)):e=e.add(t).add(r);var o=this._containerBottom=-e.y,c=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=c+"px"}},_getAnchor:function(){return[0,0]}});J.include({_initOverlay:function(t,e,r,o){var c=e;return c instanceof t||(c=new t(o).setContent(e)),r&&c.setLatLng(r),c}}),de.include({_initOverlay:function(t,e,r,o){var c=r;return c instanceof t?(pt(c,o),c._source=this):(c=e&&!o?e:new t(o,this),c.setContent(r)),c}});var si=Ze.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ze.prototype.openOn.call(this,t)},onAdd:function(t){Ze.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof je||this._source.on("preclick",ii))},onRemove:function(t){Ze.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof je||this._source.off("preclick",ii))},getEvents:function(){var t=Ze.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=ot("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=ot("div",t+"-content-wrapper",e);if(this._contentNode=ot("div",t+"-content",r),di(e),Wt(this._contentNode),K(e,"contextmenu",ii),this._tipContainer=ot("div",t+"-tip-container",e),this._tip=ot("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=ot("a",t+"-close-button",e);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',K(o,"click",function(c){Zt(c),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),e.width=r+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,c=this.options.maxHeight,f="leaflet-popup-scrolled";c&&o>c?(e.height=c+"px",X(t,f)):xt(t,f),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();vt(this._container,e.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(Xi(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+e,o=this._containerWidth,c=new Y(this._containerLeft,-r-this._containerBottom);c._add(Se(this._container));var f=t.layerPointToContainerPoint(c),m=q(this.options.autoPanPadding),v=q(this.options.autoPanPaddingTopLeft||m),b=q(this.options.autoPanPaddingBottomRight||m),M=t.getSize(),A=0,B=0;f.x+o+b.x>M.x&&(A=f.x+o-M.x+b.x),f.x-A-v.x<0&&(A=f.x-v.x),f.y+r+b.y>M.y&&(B=f.y+r-M.y+b.y),f.y-B-v.y<0&&(B=f.y-v.y),(A||B)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([A,B]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ro=function(t,e){return new si(t,e)};J.mergeOptions({closePopupOnClick:!0}),J.include({openPopup:function(t,e,r){return this._initOverlay(si,t,e,r).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),de.include({bindPopup:function(t,e){return this._popup=this._initOverlay(si,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof _e||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){ni(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof je)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Kn=Ze.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ze.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ze.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ze.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+T(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,r,o=this._map,c=this._container,f=o.latLngToContainerPoint(o.getCenter()),m=o.layerPointToContainerPoint(t),v=this.options.direction,b=c.offsetWidth,M=c.offsetHeight,A=q(this.options.offset),B=this._getAnchor();v==="top"?(e=b/2,r=M):v==="bottom"?(e=b/2,r=0):v==="center"?(e=b/2,r=M/2):v==="right"?(e=0,r=M/2):v==="left"?(e=b,r=M/2):m.x<f.x?(v="right",e=0,r=M/2):(v="left",e=b+(A.x+B.x)*2,r=M/2),t=t.subtract(q(e,r,!0)).add(A).add(B),xt(c,"leaflet-tooltip-right"),xt(c,"leaflet-tooltip-left"),xt(c,"leaflet-tooltip-top"),xt(c,"leaflet-tooltip-bottom"),X(c,"leaflet-tooltip-"+v),vt(c,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ne(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fo=function(t,e){return new Kn(t,e)};J.include({openTooltip:function(t,e,r){return this._initOverlay(Kn,t,e,r).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),de.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Kn,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[e](r),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof _e||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(K(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),K(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,r,o;this._tooltip.options.sticky&&t.originalEvent&&(r=this._map.mouseEventToContainerPoint(t.originalEvent),o=this._map.containerPointToLayerPoint(r),e=this._map.layerPointToLatLng(o)),this._tooltip.setLatLng(e)}});var Ar=we.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?(Cn(e),e.appendChild(r.html)):e.innerHTML=r.html!==!1?r.html:"",r.bgPos){var o=q(r.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Oi(t){return new Ar(t)}we.Default=We;var tt=de.extend({options:{tileSize:256,opacity:1,updateWhenIdle:R.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){pt(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),wt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ei(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Et(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Ht(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof Y?t:new Y(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,r=-t(-1/0,1/0),o=0,c=e.length,f;o<c;o++)f=e[o].style.zIndex,e[o]!==this._container&&f&&(r=t(r,+f));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!R.ielt9){ne(this._container,this.options.opacity);var t=+new Date,e=!1,r=!1;for(var o in this._tiles){var c=this._tiles[o];if(!(!c.current||!c.loaded)){var f=Math.min(1,(t-c.loaded)/200);ne(c.el,f),f<1?e=!0:(c.active?r=!0:this._onOpaqueTile(c),c.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),e&&(ce(this._fadeFrame),this._fadeFrame=qt(this._updateOpacity,this))}},_onOpaqueTile:ct,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=e-Math.abs(t-r),this._onUpdateLevel(r)):(wt(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var o=this._levels[t],c=this._map;return o||(o=this._levels[t]={},o.el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=c.project(c.unproject(c.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,c.getCenter(),c.getZoom()),ct(o.el.offsetWidth),this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:ct,_onRemoveLevel:ct,_onCreateLevel:ct,_pruneTiles:function(){if(this._map){var t,e,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)wt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,r,o){var c=Math.floor(t/2),f=Math.floor(e/2),m=r-1,v=new Y(+c,+f);v.z=+m;var b=this._tileCoordsToKey(v),M=this._tiles[b];return M&&M.active?(M.retain=!0,!0):(M&&M.loaded&&(M.retain=!0),m>o?this._retainParent(c,f,m,o):!1)},_retainChildren:function(t,e,r,o){for(var c=2*t;c<2*t+2;c++)for(var f=2*e;f<2*e+2;f++){var m=new Y(c,f);m.z=r+1;var v=this._tileCoordsToKey(m),b=this._tiles[v];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);r+1<o&&this._retainChildren(c,f,r+1,o)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,r,o){var c=Math.round(e);this.options.maxZoom!==void 0&&c>this.options.maxZoom||this.options.minZoom!==void 0&&c<this.options.minZoom?c=void 0:c=this._clampZoom(c);var f=this.options.updateWhenZooming&&c!==this._tileZoom;(!o||f)&&(this._tileZoom=c,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),c!==void 0&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,e)},_setZoomTransform:function(t,e,r){var o=this._map.getZoomScale(r,t.zoom),c=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,r)).round();R.any3d?ti(t.el,c,o):vt(t.el,c)},_resetGrid:function(){var t=this._map,e=t.options.crs,r=this._tileSize=this.getTileSize(),o=this._tileZoom,c=this._map.getPixelWorldBounds(this._tileZoom);c&&(this._globalTileRange=this._pxBoundsToTileRange(c)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],o).x/r.x),Math.ceil(t.project([0,e.wrapLng[1]],o).x/r.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],o).y/r.x),Math.ceil(t.project([e.wrapLat[1],0],o).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,r=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),o=e.getZoomScale(r,this._tileZoom),c=e.project(t,this._tileZoom).floor(),f=e.getSize().divideBy(o*2);return new yt(c.subtract(f),c.add(f))},_update:function(t){var e=this._map;if(e){var r=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var o=this._getTiledPixelBounds(t),c=this._pxBoundsToTileRange(o),f=c.getCenter(),m=[],v=this.options.keepBuffer,b=new yt(c.getBottomLeft().subtract([v,-v]),c.getTopRight().add([v,-v]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var M in this._tiles){var A=this._tiles[M].coords;(A.z!==this._tileZoom||!b.contains(new Y(A.x,A.y)))&&(this._tiles[M].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var B=c.min.y;B<=c.max.y;B++)for(var Q=c.min.x;Q<=c.max.x;Q++){var G=new Y(Q,B);if(G.z=this._tileZoom,!!this._isValidTile(G)){var Pt=this._tiles[this._tileCoordsToKey(G)];Pt?Pt.current=!0:m.push(G)}}if(m.sort(function(gt,gi){return gt.distanceTo(f)-gi.distanceTo(f)}),m.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $t=document.createDocumentFragment();for(Q=0;Q<m.length;Q++)this._addTile(m[Q],$t);this._level.el.appendChild($t)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var r=this._globalTileRange;if(!e.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!e.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return bt(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,r=this.getTileSize(),o=t.scaleBy(r),c=o.add(r),f=e.unproject(o,t.z),m=e.unproject(c,t.z);return[f,m]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),r=new Vt(e[0],e[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),r=new Y(+e[0],+e[1]);return r.z=+e[2],r},_removeTile:function(t){var e=this._tiles[t];e&&(wt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){X(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=ct,t.onmousemove=ct,R.ielt9&&this.options.opacity<1&&ne(t,this.options.opacity)},_addTile:function(t,e){var r=this._getTilePos(t),o=this._tileCoordsToKey(t),c=this.createTile(this._wrapCoords(t),it(this._tileReady,this,t));this._initTile(c),this.createTile.length<2&&qt(it(this._tileReady,this,t,null,c)),vt(c,r),this._tiles[o]={el:c,coords:t,current:!0},e.appendChild(c),this.fire("tileloadstart",{tile:c,coords:t})},_tileReady:function(t,e,r){e&&this.fire("tileerror",{error:e,tile:r,coords:t});var o=this._tileCoordsToKey(t);r=this._tiles[o],r&&(r.loaded=+new Date,this._map._fadeAnimated?(ne(r.el,0),ce(this._fadeFrame),this._fadeFrame=qt(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),e||(X(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),R.ielt9||!this._map._fadeAnimated?qt(this._pruneTiles,this):setTimeout(it(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new Y(this._wrapX?D(t.x,this._wrapX):t.x,this._wrapY?D(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new yt(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ue(t){return new tt(t)}var Pe=tt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=pt(this,e),e.detectRetina&&R.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var r=document.createElement("img");return K(r,"load",it(this._tileOnLoad,this,e,r)),K(r,"error",it(this._tileOnError,this,e,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(t),r},getTileUrl:function(t){var e={r:R.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return ge(this._url,E(e,this.options))},_tileOnLoad:function(t,e){R.ielt9?setTimeout(it(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,r){var o=this.options.errorTileUrl;o&&e.getAttribute("src")!==o&&(e.src=o),t(r,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,r=this.options.zoomReverse,o=this.options.zoomOffset;return r&&(t=e-t),t+o},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=ct,e.onerror=ct,!e.complete)){e.src=gn;var r=this._tiles[t].coords;wt(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:r})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",gn),tt.prototype._removeTile.call(this,t)},_tileReady:function(t,e,r){if(!(!this._map||r&&r.getAttribute("src")===gn))return tt.prototype._tileReady.call(this,t,e,r)}});function Un(t,e){return new Pe(t,e)}var qn=Pe.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=E({},this.defaultWmsParams);for(var o in e)o in this.options||(r[o]=e[o]);e=pt(this,e);var c=e.detectRetina&&R.retina?2:1,f=this.getTileSize();r.width=f.x*c,r.height=f.y*c,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Pe.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),r=this._crs,o=Gt(r.project(e[0]),r.project(e[1])),c=o.min,f=o.max,m=(this._wmsVersion>=1.3&&this._crs===Er?[c.y,c.x,f.y,f.x]:[c.x,c.y,f.x,f.y]).join(","),v=Pe.prototype.getTileUrl.call(this,t);return v+w(this.wmsParams,v,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+m},setParams:function(t,e){return E(this.wmsParams,t),e||this.redraw(),this}});function Ho(t,e){return new qn(t,e)}Pe.WMS=qn,Un.wms=Ho;var Ie=de.extend({options:{padding:.1},initialize:function(t){pt(this,t),T(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),X(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var r=this._map.getZoomScale(e,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),c=this._map.project(this._center,e),f=o.multiplyBy(-r).add(c).subtract(this._map._getNewPixelOrigin(t,e));R.any3d?ti(this._container,f,r):vt(this._container,f)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),r=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new yt(r,r.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wo=Ie.extend({options:{tolerance:0},getEvents:function(){var t=Ie.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ie.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");K(t,"mousemove",this._onMouseMove,this),K(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),K(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){ce(this._redrawRequest),delete this._ctx,wt(this._container),ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ie.prototype._update.call(this);var t=this._bounds,e=this._container,r=t.getSize(),o=R.retina?2:1;vt(e,t.min),e.width=o*r.x,e.height=o*r.y,e.style.width=r.x+"px",e.style.height=r.y+"px",R.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Ie.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[T(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,r=e.next,o=e.prev;r?r.prev=o:this._drawLast=o,o?o.next=r:this._drawFirst=r,delete t._order,delete this._layers[T(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),r=[],o,c;for(c=0;c<e.length;c++){if(o=Number(e[c]),isNaN(o))return;r.push(o)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||qt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new yt,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var r=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var r,o,c,f,m=t._parts,v=m.length,b=this._ctx;if(v){for(b.beginPath(),r=0;r<v;r++){for(o=0,c=m[r].length;o<c;o++)f=m[r][o],b[o?"lineTo":"moveTo"](f.x,f.y);e&&b.closePath()}this._fillStroke(b,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,r=this._ctx,o=Math.max(Math.round(t._radius),1),c=(Math.max(Math.round(t._radiusY),1)||o)/o;c!==1&&(r.save(),r.scale(1,c)),r.beginPath(),r.arc(e.x,e.y/c,o,0,Math.PI*2,!1),c!==1&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,e){var r=e.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),r,o,c=this._drawFirst;c;c=c.next)r=c.layer,r.options.interactive&&r._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(r))&&(o=r);this._fireEvent(o?[o]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(xt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var r,o,c=this._drawFirst;c;c=c.next)r=c.layer,r.options.interactive&&r._containsPoint(e)&&(o=r);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(X(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(it(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,r){this._map._fireDOMEvent(e,r||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var r=e.next,o=e.prev;if(r)r.prev=o;else return;o?o.next=r:r&&(this._drawFirst=r),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var r=e.next,o=e.prev;if(o)o.next=r;else return;r?r.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function cn(t){return R.canvas?new Wo(t):null}var qe=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ka={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ie.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=qe("shape");X(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=qe("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[T(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;wt(e),t.removeInteractiveTarget(e),delete this._layers[T(t)]},_updateStyle:function(t){var e=t._stroke,r=t._fill,o=t.options,c=t._container;c.stroked=!!o.stroke,c.filled=!!o.fill,o.stroke?(e||(e=t._stroke=qe("stroke")),c.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=P(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(c.removeChild(e),t._stroke=null),o.fill?(r||(r=t._fill=qe("fill")),c.appendChild(r),r.color=o.fillColor||o.color,r.opacity=o.fillOpacity):r&&(c.removeChild(r),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),r=Math.round(t._radius),o=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+r+","+o+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){Ei(t._container)},_bringToBack:function(t){Et(t._container)}},hn=R.vml?qe:eo,Ai=Ie.extend({_initContainer:function(){this._container=hn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){wt(this._container),ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ie.prototype._update.call(this);var t=this._bounds,e=t.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,r.setAttribute("width",e.x),r.setAttribute("height",e.y)),vt(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=hn("path");t.options.className&&X(e,t.options.className),t.options.interactive&&X(e,"leaflet-interactive"),this._updateStyle(t),this._layers[T(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){wt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[T(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,r=t.options;e&&(r.stroke?(e.setAttribute("stroke",r.color),e.setAttribute("stroke-opacity",r.opacity),e.setAttribute("stroke-width",r.weight),e.setAttribute("stroke-linecap",r.lineCap),e.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?e.setAttribute("stroke-dasharray",r.dashArray):e.removeAttribute("stroke-dasharray"),r.dashOffset?e.setAttribute("stroke-dashoffset",r.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),r.fill?(e.setAttribute("fill",r.fillColor||r.color),e.setAttribute("fill-opacity",r.fillOpacity),e.setAttribute("fill-rule",r.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,io(t._parts,e))},_updateCircle:function(t){var e=t._point,r=Math.max(Math.round(t._radius),1),o=Math.max(Math.round(t._radiusY),1)||r,c="a"+r+","+o+" 0 1,0 ",f=t._empty()?"M0 0":"M"+(e.x-r)+","+e.y+c+r*2+",0 "+c+-r*2+",0 ";this._setPath(t,f)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){Ei(t._path)},_bringToBack:function(t){Et(t._path)}});R.vml&&Ai.include(ka);function jo(t){return R.svg||R.vml?new Ai(t):null}J.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&cn(t)||jo(t)}});var vi=mi.extend({initialize:function(t,e){mi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=bt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Ca(t,e){return new vi(t,e)}Ai.create=hn,Ai.pointsToPath=io,kt.geometryToLayer=Le,kt.coordsToLatLng=Or,kt.coordsToLatLngs=sn,kt.latLngToCoords=un,kt.latLngsToCoords=Fn,kt.getFeature=pi,kt.asFeature=Hn,J.mergeOptions({boxZoom:!0});var Ko=Oe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){K(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ei(),zn(),this._startPoint=this._map.mouseEventToContainerPoint(t),K(document,{contextmenu:ni,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),X(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new yt(this._point,this._startPoint),r=e.getSize();vt(this._box,e.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(wt(this._box),xt(this._container,"leaflet-crosshair")),Qi(),en(),ft(document,{contextmenu:ni,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(it(this._resetState,this),0);var e=new Vt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});J.addInitHook("addHandler","boxZoom",Ko),J.mergeOptions({doubleClickZoom:!0});var ui=Oe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,r=e.getZoom(),o=e.options.zoomDelta,c=t.originalEvent.shiftKey?r-o:r+o;e.options.doubleClickZoom==="center"?e.setZoom(c):e.setZoomAround(t.containerPoint,c)}});J.addInitHook("addHandler","doubleClickZoom",ui),J.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Uo=Oe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ri(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}X(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xt(this._map._container,"leaflet-grab"),xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=bt(this._map.options.maxBounds);this._offsetLimit=Gt(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),r=this._initialWorldOffset,o=this._draggable._newPos.x,c=(o-e+r)%t+e-r,f=(o+e+r)%t-e-r,m=Math.abs(c+r)<Math.abs(f+r)?c:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=m},_onDragEnd:function(t){var e=this._map,r=e.options,o=!r.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),o)e.fire("moveend");else{this._prunePositions(+new Date);var c=this._lastPos.subtract(this._positions[0]),f=(this._lastTime-this._times[0])/1e3,m=r.easeLinearity,v=c.multiplyBy(m/f),b=v.distanceTo([0,0]),M=Math.min(r.inertiaMaxSpeed,b),A=v.multiplyBy(M/b),B=M/(r.inertiaDeceleration*m),Q=A.multiplyBy(-B/2).round();!Q.x&&!Q.y?e.fire("moveend"):(Q=e._limitOffset(Q,e.options.maxBounds),qt(function(){e.panBy(Q,{duration:B,easeLinearity:m,noMoveStart:!0,animate:!0})}))}}});J.addInitHook("addHandler","dragging",Uo),J.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zr=Oe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),K(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,r=t.scrollTop||e.scrollTop,o=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(o,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},r=this.keyCodes,o,c;for(o=0,c=r.left.length;o<c;o++)e[r.left[o]]=[-1*t,0];for(o=0,c=r.right.length;o<c;o++)e[r.right[o]]=[t,0];for(o=0,c=r.down.length;o<c;o++)e[r.down[o]]=[0,t];for(o=0,c=r.up.length;o<c;o++)e[r.up[o]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},r=this.keyCodes,o,c;for(o=0,c=r.zoomIn.length;o<c;o++)e[r.zoomIn[o]]=t;for(o=0,c=r.zoomOut.length;o<c;o++)e[r.zoomOut[o]]=-t},_addHooks:function(){K(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,r=this._map,o;if(e in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(o=this._panKeys[e],t.shiftKey&&(o=q(o).multiplyBy(3)),r.options.maxBounds&&(o=r._limitOffset(q(o),r.options.maxBounds)),r.options.worldCopyJump){var c=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(o)));r.panTo(c)}else r.panBy(o)}else if(e in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;ni(t)}}});J.addInitHook("addHandler","keyboard",Zr),J.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ir=Oe.extend({addHooks:function(){K(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=y(t),r=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(it(this._performZoom,this),o),ni(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(this._map.options.wheelPxPerZoomLevel*4),c=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,f=r?Math.ceil(c/r)*r:c,m=t._limitZoom(e+(this._delta>0?f:-f))-e;this._delta=0,this._startTime=null,m&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+m):t.setZoomAround(this._lastMousePos,e+m))}});J.addInitHook("addHandler","scrollWheelZoom",Ir);var ci=600;J.mergeOptions({tapHold:R.touchNative&&R.safari&&R.mobile,tapTolerance:15});var fn=Oe.extend({addHooks:function(){K(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new Y(e.clientX,e.clientY),this._holdTimeout=setTimeout(it(function(){this._cancel(),this._isTapValid()&&(K(document,"touchend",Zt),K(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),ci),K(document,"touchend touchcancel contextmenu",this._cancel,this),K(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){ft(document,"touchend",Zt),ft(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new Y(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});r._simulated=!0,e.target.dispatchEvent(r)}});J.addInitHook("addHandler","tapHold",fn),J.mergeOptions({touchZoom:R.touch,bounceAtZoomLimits:!0});var Br=Oe.extend({addHooks:function(){X(this._map._container,"leaflet-touch-zoom"),K(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var r=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(r.add(o)._divideBy(2))),this._startDist=r.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),K(document,"touchmove",this._onTouchMove,this),K(document,"touchend touchcancel",this._onTouchEnd,this),Zt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,r=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),c=r.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(c,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&c<1||this._zoom>e.getMaxZoom()&&c>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,c===1)return}else{var f=r._add(o)._divideBy(2)._subtract(this._centerPoint);if(c===1&&f.x===0&&f.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(f),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),ce(this._animRequest);var m=it(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=qt(m,this,!0),Zt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ce(this._animRequest),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});J.addInitHook("addHandler","touchZoom",Br),J.BoxZoom=Ko,J.DoubleClickZoom=ui,J.Drag=Uo,J.Keyboard=Zr,J.ScrollWheelZoom=Ir,J.TapHold=fn,J.TouchZoom=Br,C.Bounds=yt,C.Browser=R,C.CRS=Fe,C.Canvas=Wo,C.Circle=Dn,C.CircleMarker=an,C.Class=Re,C.Control=he,C.DivIcon=Ar,C.DivOverlay=Ze,C.DomEvent=xo,C.DomUtil=wa,C.Draggable=ri,C.Evented=Hi,C.FeatureGroup=_e,C.GeoJSON=kt,C.GridLayer=tt,C.Handler=Oe,C.Icon=we,C.ImageOverlay=Wn,C.LatLng=st,C.LatLngBounds=Vt,C.Layer=de,C.LayerGroup=_i,C.LineUtil=Pa,C.Map=J,C.Marker=on,C.Mixin=Ae,C.Path=je,C.Point=Y,C.PolyUtil=Tr,C.Polygon=mi,C.Polyline=Lt,C.Popup=si,C.PosAnimation=It,C.Projection=Sr,C.Rectangle=vi,C.Renderer=Ie,C.SVG=Ai,C.SVGOverlay=Do,C.TileLayer=Pe,C.Tooltip=Kn,C.Transformation=Wi,C.Util=ua,C.VideoOverlay=No,C.bind=it,C.bounds=Gt,C.canvas=cn,C.circle=Bo,C.circleMarker=zr,C.control=ze,C.divIcon=Oi,C.extend=E,C.featureGroup=oi,C.geoJSON=Ke,C.geoJson=Kt,C.gridLayer=Ue,C.icon=jt,C.imageOverlay=$o,C.latLng=nt,C.latLngBounds=bt,C.layerGroup=Zo,C.map=oe,C.marker=Io,C.point=q,C.polygon=ai,C.polyline=Ta,C.popup=Ro,C.rectangle=Ca,C.setOptions=pt,C.stamp=T,C.svg=jo,C.svgOverlay=jn,C.tileLayer=Un,C.tooltip=Fo,C.transformation=ji,C.version=g,C.videoOverlay=Ma;var Sa=window.L;C.noConflict=function(){return window.L=Sa,this},window.L=C}))})(Vr,Vr.exports)),Vr.exports}var Gh=qh();const vn=Kh(Gh),Ne=jh.Main.init({node:document.getElementById("app")}),sa="pocketbase_auth";Ne.ports.storeAuth.subscribe(_t=>{localStorage.setItem(sa,JSON.stringify(_t))});Ne.ports.removeAuth.subscribe(()=>{localStorage.removeItem(sa)});const Gs=localStorage.getItem(sa);if(Gs)try{const _t=JSON.parse(Gs);requestAnimationFrame(()=>{Ne.ports.authStored.send(_t)})}catch(_t){console.error("Failed to parse stored auth",_t),localStorage.removeItem(sa)}let ki=null,fi=null;delete vn.Icon.Default.prototype._getIconUrl;vn.Icon.Default.mergeOptions({iconRetinaUrl:"/marker-icon-2x.png",iconUrl:"/marker-icon.png",shadowUrl:"/marker-shadow.png"});Ne.ports.initMap.subscribe(_t=>{ki||!document.getElementById("map")||(ki=vn.map("map").setView(_t.center,_t.zoom),vn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(ki),_t.marker&&(fi=vn.marker(_t.marker,{draggable:!0}).addTo(ki),fi.on("dragend",C=>{const{lat:g,lng:E}=C.target.getLatLng();Ne.ports.mapMarkerMoved.send([g,E])})),ki.on("click",C=>{fi?fi.setLatLng(C.latlng):(fi=vn.marker(C.latlng,{draggable:!0}).addTo(ki),fi.on("dragend",g=>{const{lat:E,lng:rt}=g.target.getLatLng();Ne.ports.mapMarkerMoved.send([E,rt])})),Ne.ports.mapMarkerMoved.send([C.latlng.lat,C.latlng.lng])}))});Ne.ports.updateMap.subscribe(_t=>{ki&&(ki.setView(_t.center,_t.zoom),_t.marker&&(fi?fi.setLatLng(_t.marker):(fi=vn.marker(_t.marker,{draggable:!0}).addTo(ki),fi.on("dragend",Ft=>{const{lat:C,lng:g}=Ft.target.getLatLng();Ne.ports.mapMarkerMoved.send([C,g])}))))});Ne.ports.parseKMLContent.subscribe(_t=>{try{const g=new DOMParser().parseFromString(_t,"application/xml").querySelectorAll("Placemark"),E=Array.from(g).map(rt=>{const it=rt.querySelector("name")?.textContent?.trim()||"",a=rt.querySelector("description")?.textContent?.trim()||"",T=rt.querySelector("coordinates")?.textContent?.trim()||"";let Ht=0,D=0;if(T){const ct=T.split(",");ct.length>=2&&(D=parseFloat(ct[0]),Ht=parseFloat(ct[1]))}return{name:it,description:a,lat:isNaN(Ht)?0:Ht,lon:isNaN(D)?0:D}});Ne.ports.kmlContentParsed.send(E)}catch(Ft){console.error("KML Parse Error",Ft),Ne.ports.kmlContentParsed.send([])}});
